







<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=10" />
<title>BCOON</title>
<link rel="icon" href="https://www.coorin.com/images/logo_bcoon_icon.png">	

<link href="https://www.coorin.com/bcoon/css/bootstrap.css" rel='stylesheet' type='text/css' />

<link href="https://www.coorin.com/bcoon/css/style.css" rel="stylesheet" type="text/css" media="all" />

<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<link href='//fonts.googleapis.com/css?family=Play:400,700' rel='stylesheet' type='text/css'>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
<!--<script src="https://www.coorin.com/ceventor/jquery.min.js" type="text/javascript"></script>-->
<script type="application/x-javascript"> 
var map;
var myLatLng;
var markers = [];
var markers_ghichu = [];
var marker_mpom = [];
var marker_gt = [];
var markers_htgt = [];
var markers_dd = [];
var cityCircle = [];
var waypts = [];
var snqaCircles=[];	

var updtn_rep;
var myVar;
var cnmr;
var Aoevtsq;
var var_capnhatvitrisanqua;

addEventListener("load", function() 
					{ 
						setTimeout(hideURLbar, 0); 
					}, false
				); 
				
	
	
function hideURLbar()
{ 
	window.scrollTo(0,1); 
} 
function tracuu() {
		var id_value_tracuu = document.getElementById("tenid").value;
		
		$.ajax({
			type: 'get',
			url: 'tracuu.php?id_value_tracuu='+id_value_tracuu,
			data: '',
			beforeSend: function(){
				
			},
			success: function(response){
				$('#tracuu').html(response);
			}
		});
		
	}
function tracuutennhom() {
		var nhaptengroupct = document.getElementById("nhaptengroupct").value;
		
		$.ajax({
			type: 'get',
			url: 'tracuutennhom.php?nhaptengroupct='+nhaptengroupct,
			data: '',
			beforeSend: function(){
				
			},
			success: function(response){
				$('#kq_tracuutennhom').html(response);
				
			}
		});
		
	}
function tracuutennhomql() {
		var nhaptengroupctql = document.getElementById("nhaptengroupctql").value;
		
		$.ajax({
			type: 'get',
			url: 'tracuutennhomql.php?nhaptengroupctql='+nhaptengroupctql,
			data: '',
			beforeSend: function(){
				
			},
			success: function(response){
				$('#kq_tracuutennhomql').html(response);
				
			}
		});
		
	}
function click_httg(){
	var id_group = document.getElementById("nhom_get_tv").value;
	//
	$.ajax({
		type: 'get',
		url: 'kthtlt.php?id_group='+id_group,
		data: '',
		beforeSend: function(){
			
		},
		success: function(response){
			$('#idtkqktht').html(response);
		}
	});
} 
function click_2(id_invite){
	$.ajax({
		type: 'get',
		url: 'thamgianhom.php?id_invite='+id_invite,
		data: '',
		beforeSend: function(){
			
		},
		success: function(response){
			$('#lockallMode-'+id_invite).html(response);
			$('#lockallModetc-'+id_invite).html(response);
			$.ajax({
				type: 'get',
				url: 'kqntvk_am.php',
				data: '',
				beforeSend: function(){
					
				},
				success: function(response){
					$('#kqntvk').html(response);
				}
			});
			$.ajax({
				type: 'get',
				url: 'cantdslmi.php',
				data: '',
				beforeSend: function(){
					
				},
				success: function(response){
					$('#alert_cn').html(response);
				}
			});
			$.ajax({
				type: 'get',
				url: 'ktslmtgn.php',
				data: '',
				beforeSend: function(){
					
				},
				success: function(response){
					$('#slmtgn').html(response);
				}
			});
			var idtgtcm = document.getElementById("idtgtcm").value;
			$.ajax({
				type: 'get',
				url: 'cnlnm.php?idgrtvml='+idtgtcm, 
				data: '',
				beforeSend: function(){
					
				},
				success: function(response){
					$('#updskx').html(response);
				}
			});
			tracuutennhom();
			tracuutennhomql();
			
		}
	});
} 
function click_2tc(id_invite){
	$.ajax({
		type: 'get',
		url: 'thamgianhom.php?id_invite='+id_invite,
		data: '',
		beforeSend: function(){
			
		},
		success: function(response){
			$('#lockallModetc-'+id_invite).html(response);
			$('#lockallMode-'+id_invite).html(response);
			$.ajax({
				type: 'get',
				url: 'cantdslmi.php',
				data: '',
				beforeSend: function(){
					
				},
				success: function(response){
					$('#alert_cn').html(response);
				}
			});
			$.ajax({
				type: 'get',
				url: 'ktslmtgn.php',
				data: '',
				beforeSend: function(){
					
				},
				success: function(response){
					$('#slmtgn').html(response);
				}
			});
			var idtgtcm = document.getElementById("idtgtcm").value;
			$.ajax({
				type: 'get',
				url: 'cnlnm.php?idgrtvml='+idtgtcm, 
				data: '',
				beforeSend: function(){
					
				},
				success: function(response){
					$('#updskx').html(response);
				}
			});
			tracuutennhom();
			tracuutennhomql();
		}
	});
} 
function click_2tcck(id_group_ck){ 
	$.ajax({
		type: 'get',
		url: 'thamgianhomtcck.php?id_group_ck='+id_group_ck,
		data: '',
		beforeSend: function(){
			$('#lockallModetcck-'+id_group_ck).html("Đang xử lý...");
		},
		success: function(response){
			$('#lockallModetcck-'+id_group_ck).html(response);
			$.ajax({
				type: 'get',
				url: 'kqntvk_am.php',
				data: '',
				beforeSend: function(){
					
				},
				success: function(response){
					$('#kqntvk').html(response);
				}
			});
			tracuutennhom();
			tracuutennhomql();
		}
	});
} 
function xemthemnhomkhac()
{
	$("#tinnhan_window_2").css("display", "block");
	$("#tinnhan_window").css("display", "block");
	$("#infoWindow_caidatnhom_id").css("display", "none");
	
	$.ajax({
		type: 'get',
		url: 'kqntvk_am.php',
		data: '',
		beforeSend: function(){
			
		},
		success: function(response){
			$('#kqntvk').html(response);
		}
	});
	$.ajax({
		type: 'get',
		url: 'ktslmtgn.php',
		data: '',
		beforeSend: function(){
			
		},
		success: function(response){
			$('#slmtgn').html(response);
		}
	});
	$.ajax({
		type: 'get',
		url: 'cantdslmi.php',
		data: '',
		beforeSend: function(){
			
		},
		success: function(response){
			$('#alert_cn').html(response);
		}
	});
} 

function tdcdht(id_group)
	{
		
		$.ajax({
			type: 'get',
			url: 'cncdo.php?id_group='+id_group,
			data: '',
			beforeSend: function(){
				
			},
			success: function(response){
				$('#chedotd-'+id_group).html(response);
			}
		});
	}
	function ajmbr(id_group)
	{
		$("#infoWindow_caidatnhom_id").css("display", "none");
		$("#adm_window").css("display", "block");
		$("#tinnhan_window_2").css("display", "block");
		
		$.ajax({
			type: 'get',
			url: 'tctvog.php?id_group='+id_group,
			data: '',
			beforeSend: function(){
				
			},
			success: function(response){
				$('#id_gradm').html(response);
			}
		});
	}
	function ajmbr_yctgcd(id_group)
	{
		$("#infoWindow_caidatnhom_id").css("display", "none");
		$("#adm_window").css("display", "block");
		$("#tinnhan_window_2").css("display", "block");
		
		$.ajax({
			type: 'get',
			url: 'tctvog_nptcd.php?id_group='+id_group,
			data: '',
			beforeSend: function(){
				
			},
			success: function(response){
				$('#id_gradm').html(response);
			}
		});
	}
	function dcchdmi(id)
	{
		
		$.ajax({
			type: 'get',
			url: 'dcchdmi.php?id='+id,
			data: '',
			beforeSend: function(){
				$('#mstv-'+id).html("Đang xử lý...");
			},
			success: function(response){
				$('#mstv-'+id).html(response);
				$("#huymid_1").css("display", "none");
				$("#huymid_2").css("display", "none");
				
				var idtvml = document.getElementById("idtvml").value;
				var idgrtvml = document.getElementById("idgrtvml").value;
				$.ajax({
					type: 'get',
					url: 'cnlnm.php?id='+idtvml+'&idgrtvml='+idgrtvml,
					data: '',
					beforeSend: function(){
						
					},
					success: function(response){
						$('#updskx').html(response);
					}
				});
				$.ajax({
					type: 'get',
					url: 'ktslmtgn.php',
					data: '',
					beforeSend: function(){
						
					},
					success: function(response){
						$('#slmtgn').html(response);
					}
				});
				$.ajax({
					type: 'get',
					url: 'cantdslmi.php',
					data: '',
					beforeSend: function(){
						
					},
					success: function(response){
						$('#alert_cn').html(response);
					}
				});
			}
		});
		
	}
	function dcchdmi_dtgn(id)
	{
		
		$.ajax({
			type: 'get',
			url: 'dcchdmi_dtgn.php?id='+id,
			data: '',
			beforeSend: function(){
				$('#mstv-'+id).html("Đang xử lý...");
			},
			success: function(response){
				$('#mstv-'+id).html(response);
				$("#huymid_1").css("display", "none");
				$("#huymid_2").css("display", "none");
				
				var idtvml = document.getElementById("idtvml").value;
				var idgrtvml = document.getElementById("idgrtvml").value;
				$.ajax({
					type: 'get',
					url: 'cnlnm.php?id='+idtvml+'&idgrtvml='+idgrtvml,
					data: '',
					beforeSend: function(){
						
					},
					success: function(response){
						$('#updskx').html(response);
					}
				});
				$.ajax({
					type: 'get',
					url: 'ktslmtgn.php',
					data: '',
					beforeSend: function(){
						
					},
					success: function(response){
						$('#slmtgn').html(response);
					}
				});
				$.ajax({
					type: 'get',
					url: 'cantdslmi.php',
					data: '',
					beforeSend: function(){
						
					},
					success: function(response){
						$('#alert_cn').html(response);
					}
				});
			}
		});
		
	}
	function tracuu_m() {
		var id_value_tracuu = document.getElementById("tenid_m").value;
		var id_group_tcm = document.getElementById("idtgtcm").value;
		$.ajax({
			type: 'get',
			url: 'tracuu_m.php?id_group='+id_group_tcm+'&id_value_tracuu='+id_value_tracuu,
			data: '',
			beforeSend: function(){
				
			},
			success: function(response){
				$('#kqtrcu').html(response);
				
			}
		});
		
	}
	function glmi() {
	
		var idtgtcm = document.getElementById("idtgtcm").value;
		var id_value_tracuu = document.getElementById("tenid_m").value;
		$.ajax({
			type: 'get',
			url: 'glomi.php?idtgtcm='+idtgtcm+'&id_member='+id_value_tracuu,
			data: '',
			beforeSend: function(){
				
			},
			success: function(response){
				$('#kqtrcu').html(response);
				
				$.ajax({
					type: 'get',
					url: 'cnlnm.php?idgrtvml='+idtgtcm, 
					data: '',
					beforeSend: function(){
						
					},
					success: function(response){
						$('#updskx').html(response);
					}
				});
				$.ajax({
					type: 'get',
					url: 'tctvog.php?id_group='+idtgtcm,
					data: '',
					beforeSend: function(){
						
					},
					success: function(response){
						$('#id_gradm').html(response);
					}
				});
				$.ajax({
					type: 'get',
					url: 'cantdslmi.php',
					data: '',
					beforeSend: function(){
						
					},
					success: function(response){
						$('#alert_cn').html(response);
					}
				});
				$.ajax({
					type: 'get',
					url: 'ktslmtgn.php',
					data: '',
					beforeSend: function(){
						
					},
					success: function(response){
						$('#slmtgn').html(response);
					}
				});
			}
		});
		
	}
	function xoagroup(id_group)
	{
		$("#xoa_window").css("display", "block");
		$("#tinnhan_window_2").css("display", "block");
		$("#infoWindow_caidatnhom_id").css("display", "none");
		
		document.getElementById('id_grcx').value = id_group;
	}
	function coxgr()
	{
		$("#infoWindow_caidatnhom_id").css("display", "block");
		var id_grcx = document.getElementById("id_grcx").value;	
		
		$.ajax({
			type: 'get',
			url: 'xoagroup.php?id_group='+id_grcx,
			data: '',
			beforeSend: function(){
				
			},
			success: function(response){
				$('#updskx').html(response);
				$("#xoa_window").css("display", "none");
				$("#tinnhan_window_2").css("display", "none");
				
				$.ajax({
					type: 'get',
					url: 'slnql.php',
					data: '',
					beforeSend: function(){
						
					},
					success: function(response){
						$('#bslnql').html(response);
					}
				});
				
				$.ajax({
					type: 'get',
					url: 'ktslmtgn.php',
					data: '',
					beforeSend: function(){
						
					},
					success: function(response){
						$('#slmtgn').html(response);
					}
				});
				
				$.ajax({
					type: 'get',
					url: 'ktsnqlcb.php',
					data: '',
					beforeSend: function(){
						
					},
					success: function(response){
						$('#snqlcb').html(response);
					}
				});
				
				$.ajax({
					type: 'get',
					url: 'cantdslmi.php',
					data: '',
					beforeSend: function(){
						
					},
					success: function(response){
						$('#alert_cn').html(response);
					}
				});
			}
		});
	}
	function taonhom()
	{
		var tenid = document.getElementById("tenid").value;
		var tengroup_tao = document.getElementById("tengroup_tao").value;
		
		$.ajax({
			type: 'get',
			url: 'tnom.php?tenid='+tenid+'&tengroup_tao='+tengroup_tao,
			data: '',
			beforeSend: function(){
				
			},
			success: function(response){
				$('#tracuu').html(response);
				loadlmu();
			}
		});
	}

function loadlmu()
{ 
	$.ajax({
		type: 'get',
		url: 'diplmu.php',
		data: '',
		beforeSend: function(){
			
		},
		success: function(response){
			$('#mainmenu').html(response);
			
		}
	});
}
var udmyo;
function menu_display()
{ 
	clearInterval(udmyo);
	
	if($('#map').css('display') == 'block')
	{
		$("#map").css("display", "none");
		if (mode_sq == 1)
		{
			$("#dropdown_id").css("display", "none");
		}
		$("#mainmenu").css("display", "block"); 
		
		$("#group_menu").css("display", "none");
		
		$("#updttn").css("display", "none");
		clearInterval(myVar);
		loadlmu();
		
	}
	else if($('#map').css('display') == 'none')
	{
		$("#map").css("display", "block");
		if (mode_sq == 1)
		{
			$("#dropdown_id").css("display", "block");
		}
		$("#mainmenu").css("display", "none");
		$("#chdoddcd").css("display", "none");
		
	}
}
function goitinnhan()
{ 
	var noidung_tinnhan = document.getElementById("noidung_tinnhan").value;
	var nguoigoi = document.getElementById("nguoigoi").value;
	var tbnhan = document.getElementById("goiden").value;
	var id_group = document.getElementById("nhom_get_tv").value;
	$.ajax({
			type: 'get',
			url: 'gtn.php?nguoigoi='+nguoigoi+'&tbnhan='+tbnhan+'&noidung_tinnhan='+noidung_tinnhan+'&id_group='+id_group,
			data: '',
			beforeSend: function(){
				
			},
			success: function(response){
				$('#result_tinnhan').html(response);
			}
		});
		
}

function xarptn(id_ms) 
{ 
	$.ajax({
			type: 'get',
			url: 'xanttt.php?id_ms='+id_ms,
			data: '',
			beforeSend: function(){
			},
			success: function(response){
				$('#tinnhanmoi').html(response);
				
				
			}
		});
		
}
function rptn(id_ms) //nhom,nguoigoi,nguoinhan
{ 
	$("#tinnhan_window_3").css("display", "block");
	$("#tinnhan_window_2").css("display", "block");
	
	$.ajax({
			type: 'get',
			url: 'nttt.php?id_ms='+id_ms,
			data: '',
			beforeSend: function(){
			},
			success: function(response){
				$('#kqtltnn').html(response);
				
				$('#kqtltnn').animate({
					scrollTop: $('#kqtltnn').get(0).scrollHeight}, 1000);
					
				$('#updttn').scrollTop(0);
				
				updtn_rep = setInterval(function(){ 
						updtn_rep_f()
					}, 1000);
			}
		});
}
function offtnw()
{ 
	$("#tinnhan_window").css("display", "none");
	$("#tinnhan_window_3").css("display", "none");
	$("#tinnhan_window_2").css("display", "none");
	$("#adm_window").css("display", "none");
	$("#xoa_window").css("display", "none");
	clearInterval(updtn_rep);
}
function offtnw_2()
{ 
	$("#tinnhan_window").css("display", "none");
	$("#tinnhan_window_2").css("display", "none");
	$("#tinnhan_window_3").css("display", "none");
	$("#adm_window").css("display", "none");
	$("#xoa_window").css("display", "none");
	$("#infoWindow_caidatnhom_id").css("display", "block");
	
	clearInterval(updtn_rep);
}
function offtnw_3_tnpt()
{ 	
	$("#infoWindow_caidatnhom_id").css("display", "none");
	$("#map").css("display", "block");
}
function offtnw_3_tcd()
{ 
	$("#infoWindow_taochiendich_id").css("display", "none");
	
	$("#map").css("display", "block");
	
	$.ajax({
		type: 'get',
		url: 'form_tccd.php',
		data: '',
		beforeSend: function(){
		},
		success: function(response){
			$('#taochiendichnoidungsq_id').html(response);
		}
	});
	clearInterval(updtn_rep);
}
function offtnw_3()
{ 
	
	$("#infoWindow_taochiendich_id").css("display", "none");
	$("#infoWindow_sanqua_id").css("display", "none");
	$("#map").css("display", "block");
	$("#updttn_sanqua").css("display", "block");
	$("#group_menu").css("display", "none");
	$("#cdtdbt").css("display", "block");
	
	clearInterval(updtn_rep);
}
function offtnw_5_nptdql()
{ 
	$("#taochiendichnoidung_id").css("display", "none");
	$("#nhomphuongtienlathanhvien_id").css("display", "none");
	$("#nhomphuongtienlaquanly_id").css("display", "block");
	$.ajax({
		type: 'get',
		url: 'nhomphuongtienlaquanly.php',
		data: '',
		beforeSend: function(){
		},
		success: function(response){
			$('#nhomphuongtienlaquanly_id').html(response);
		}
	});
}

function offtnw_5_nptltv()
{ 
	$("#taochiendichnoidung_id").css("display", "none");
	$("#nhomphuongtienlathanhvien_id").css("display", "block");
	$("#nhomphuongtienlaquanly_id").css("display", "none");
	$.ajax({
		type: 'get',
		url: 'nhomphuongtienlathanhvien.php',
		data: '',
		beforeSend: function(){
		},
		success: function(response){
			$('#nhomphuongtienlathanhvien_id').html(response);
		}
	});
}
function offtnw_5()
{ 
	$.ajax({
		type: 'get',
		url: 'listchiendich.php',
		data: '',
		beforeSend: function(){
		},
		success: function(response){
			$('#taochiendichnoidungsq_id').html(response);
		}
	});
	
	clearInterval(updtn_rep);
}
function offtnw_6_qtdnn()
{ 
	$("#map").css("display", "block");
	$("#thongtinchitietquatangdnn").css("display", "none");
	clearInterval(updtn_rep);
}
function offtnw_6()
{ 
	$("#map").css("display", "block");
	$("#thongtinchitietquatang").css("display", "none");
	clearInterval(updtn_rep);
}
function ancstn()
{ 
	var heightCsTn = $('#updttn').css('height');
	if ( heightCsTn != '27px' )
	{
		$("#updttn").css("height", "27px");
		$("#updttn").css("resize", "none");
		clearInterval(myVar);
	}
	else if (heightCsTn == '27px')
	{
		$("#updttn").css("height", "228px");
		$("#updttn").css("resize", "both");
		myVar = setInterval(function(){ 
										udtn()
									}, 1000);
	}	
}
function anttgt()
{ 
	var heightTtgt = $('#idgtdiv').css('height');
	if ( heightTtgt != '27px' )
	{
		$("#idgtdiv").css("height", "27px");
		$("#idgtdiv").css("resize", "none");
		clearInterval(myVar);
	}
	else if (heightTtgt == '27px')
	{
		$("#idgtdiv").css("height", "410px");
		$("#idgtdiv").css("resize", "both");
	}	
}

var dem_clcdtdbt = 0;
var dem_Aoevtsq = 0;
var dem_Aoevtsq_1 = 0;
var mode_sq = 0;

function htndqdn()
{ 
	$("#map").css("display", "none");
	$("#thongtinchitietquatangdnn").css("display", "block");
	$.ajax({
		type: 'get',
		url: 'hienthinoidungchitietquatangdnn.php',
		data: '',
		beforeSend: function(){
		},
		success: function(response){				
			$("#thongtinchitietquatangdnn_2").html(response);
		}
	});
	
}
function gtnrep()
{ 
	var noidung_tinnhan_rep = document.getElementById("tnrep").value;
	var me_tinnhan_rep = document.getElementById("msidtnrep").value;
	if (noidung_tinnhan_rep!="")
	{
		$.ajax({
				type: 'get',
				url: 'ntttrep.php?noidung_tinnhan_rep='+noidung_tinnhan_rep+'&me_tinnhan_rep='+me_tinnhan_rep,
				data: '',
				beforeSend: function(){
				},
				success: function(response){
					$('#kqtltnn').html(response);
					$('#kqtltnn').animate({
						scrollTop: $('#kqtltnn').get(0).scrollHeight}, 1000);
					$('#tnrep').val("");
				}
		});
	}
}
function updtn_rep_f()
{ 
	var me_tinnhan_rep = document.getElementById("msidtnrep").value;
	$.ajax({
			type: 'get',
			url: 'udtn_orep.php?me_tinnhan_rep='+me_tinnhan_rep,
			data: '',
			beforeSend: function(){
			},
			success: function(response){
				$('#kqtltnn').html(response);				
			}
	});
}
function EnterPress() {
    var key = window.event.keyCode;

    if (key == 13) {
		gtnrep();
        return false;
    }
    else {
        return true;
    }
}


function xatvtmp() {
    
	var noidung_tinnhan = document.getElementById("noidung_tinnhan").value;
	var nguoigoi = document.getElementById("nguoigoi").value;
	var tbnhan = document.getElementById("goiden").value;
	var id_group = document.getElementById("nhom_get_tv").value;
	
	$('#result_tinnhan').html(tbnhan);
	
	$.ajax({
			type: 'get',
			url: 'xtvtm.php?tvcx='+tbnhan+'&id_group='+id_group,
			data: '',
			beforeSend: function(){
				
			},
			success: function(response){
				$('#result_tinnhan').html(response);
			}
		});
		
}


function xoamkgc(id) {
    
	$.ajax({
		type: 'get',
		url: 'ttxagc.php?id='+id,
		data: '',
		beforeSend: function(){
		},
		success: function(response){
			$('#ttxagc').html(response);				
		}
	});
	myTimer();
	deleteMarkers();
}

	
</script>



 <style type="text/css">
   
 </style>
 <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAmZbxcrMrgNDwbSBscN0jtZZgswWBcsCg" ></script>
<script type="text/javascript" src="https://www.coorin.com/bcoon/js/markerwithlabel.js"></script>
 <!--script map-->
 <script  type="text/javascript" >
								
								
								var dkme;
								var checkchedocapnhat;
								var directionsDisplay = new google.maps.DirectionsRenderer({
									suppressMarkers: true
								});
								var directionsService = new google.maps.DirectionsService;
								var directionsDisplays = [];
								
								var tmrkc = 0;
								
								var image =   'https://www.coorin.com/bcoon/images/marker_1.png';
								
								function initMap() {
									
								
									document.getElementById('nhom_get_tv').value = 94;
									document.getElementById('chedo_get').value = 1;
									
									myLatLng = {lat: 10.84509735761741, lng: 106.77128434181213};
									map = new google.maps.Map(document.getElementById('map'), {
										zoom: 16,
										center: myLatLng
									});									
									
									document.getElementById('submit_dd').addEventListener('click', function() {
										deleteMarkers();
										directionsDisplay.setMap(map);	
									    calculateAndDisplayRoute(directionsService, directionsDisplay);
										gesdtdide();
									});
										
									updtnf();
									
									var id_group = document.getElementById("nhom_get_tv").value;
									
									$.ajax({
										type: 'get',
										url: 'kthtlttcn.php?id_group='+id_group,
										data: '',
										beforeSend: function(){
										},
										success: function(response){
											if(response==0)			
											{
												$('#kqldtdide_2').html(response);
												directionsDisplay.setMap(null);	
											}
											else if(response==1)			
											{
												$('#kqldtdide_2').html(response);
												directionsDisplay.setMap(map);	
												calculateAndDisplayRoute(directionsService, directionsDisplay);
												
												var id_group = document.getElementById("nhom_get_tv").value;
												var url="laytbtdlt.php?id_group="+id_group;
												
												$.getJSON(url,function(json){
													$.each(json.posts,function(i,item){
														
														markerShowUpLte(parseFloat(item.lat),parseFloat(item.lon),item.noidung,parseFloat(item.time),parseFloat(item.thutult))
														
													});
												});
											}
										}
									});
									
									
									var h = Math.max(document.documentElement.clientHeight, window.innerHeight || 0)
									$("#map_fgh").css("height", (h-47)+"px" );
									
									dkme = 0;
									if (dkme == 0)
									{
										$("#updttn").css("display", "none"); 
										clearInterval(myVar);
										dem_Aoevtsq = 1;
										directionsDisplay.setMap(null);	
										deleteMarkers();
										
										$('#bodytop').scrollTop(0);
										
										$("#map").css("display", "block");
										$("#mainmenu").css("display", "none");
										$("#chdoddcd").css("display", "none");	
										$("#updttn").css("display", "none"); 
										$("#updttn_sanqua").css("display", "block"); 
										$("#group_menu").css("display", "none");
										
										infoWindow_sanqua = new google.maps.InfoWindow({map: map});
										
										sanquafunction_1();
										Aoevtsq = setInterval(function(){ 
											sanquafunction_1()
										}, 1000);
										
									}
									else if (dkme == 1)
									{
										
									}
									
									
								}
								
								function hienthiddcd() {
									
									deleteMarkers();
									if($('#map').css('display') == 'block')
									{
										$("#map").css("display", "none");
										$("#mainmenu").css("display", "block");
										
										$("#idgtdiv").css("display", "none");
										$("#chdotcgt").css("display", "block");
										
										$("#chdoddcd").css("display", "none");
									}
									else if($('#map').css('display') == 'none')
									{
										$("#map").css("display", "block");
										$("#mainmenu").css("display", "none");
										
										$("#idgtdiv").css("display", "block");
										$("#chdotcgt").css("display", "none");
										
										$("#chdoddcd").css("display", "block");
										
										$("#optnttcd").html("Dẫn đường");
									}
									$('#bodytop').scrollTop(0);
									var id_group = document.getElementById("nhom_get_tv").value;
									$.ajax({
										type: 'get',
										url: 'htkthtlt.php?id_group='+id_group,
										data: '',
										beforeSend: function(){
											
										},
										success: function(response){
											$('#idtkqktht').html(response);
										}
									});
									
									
									var url="laytbtdlt.php?id_group="+id_group;
									
									$.getJSON(url,function(json){
										$.each(json.posts,function(i,item){
											
											markerShowUpLte(parseFloat(item.lat),parseFloat(item.lon),item.noidung,parseFloat(item.time),parseFloat(item.thutult))
											
										});
									});
									var latlngStr_A = document.getElementById('get_coor_value_AA').value.split(',', 2);
									var latlng_mA = {lat: parseFloat(latlngStr_A[0]), lng: parseFloat(latlngStr_A[1])};
									var image_a =   'https://www.coorin.com/bcoon/images/marker_a.png';
									var image_b =   'https://www.coorin.com/bcoon/images/marker_b.png';
									var marker_A = new google.maps.Marker({
										position: latlng_mA,
										draggable: true,
										title: 'Điểm đi',
										icon: image_a,
										map: map
									});
									
									
									marker_A.addListener( 'dragend', function(event){
										document.getElementById('get_coor_value_AA').value = event.latLng.lat()+","+event.latLng.lng();
									});
									
									markers_dd.push(marker_A);
									
									var geocoder = new google.maps.Geocoder();
									var address = document.getElementById('get_coor_value_B').value; 
									geocoder.geocode({'address': address}, function(results, status) {
										if (status === google.maps.GeocoderStatus.OK) {
											
											var marker_B = new google.maps.Marker({
												position: results[0].geometry.location,
												draggable: true,
												title: 'Điểm đến',
												icon: image_b,
												map: map
											});
											marker_B.addListener( 'dragend', function(event){
												document.getElementById('get_coor_value_B').value = event.latLng.lat()+","+event.latLng.lng();
											});
											
											markers_dd.push(marker_B);
											
										} else {
											alert('Geocode was not successful for the following reason: ' + status);
										}
									});
									$('#kqldtdide').html("");	
									
									optplmr_m();
								}
								function gesdtdide()
								{
									var start = $('#get_coor_value_AA').val();
									var end = $('#get_coor_value_B').val();
									var id_group = document.getElementById("nhom_get_tv").value;
									
									$.ajax({
										type: 'get',
										url: 'sdtddide.php?start='+start+'&end='+end+'&id_group='+id_group,
										data: '',
										beforeSend: function(){
										},
										success: function(response){
											$('#kqldtdide').html(response);				
										}
									});
								}
								function calculateAndDisplayRoute(directionsService, directionsDisplay) {
									
									waypts = [];
									var id_group = document.getElementById("nhom_get_tv").value;
									var url="laytbtdlt.php?id_group="+id_group;
									
									$.getJSON(url,function(json){
										$.each(json.posts,function(i,item){
											waypts.push({
											  location:  new google.maps.LatLng(parseFloat(item.lat),parseFloat(item.lon)),
											  stopover: true
											}),
											markerShowUpLte(parseFloat(item.lat),parseFloat(item.lon),item.noidung,parseFloat(item.time),parseFloat(item.thutult))
											
										});
										directionsService.route({
											origin: document.getElementById('get_coor_value_AA').value,
											destination: document.getElementById('get_coor_value_B').value,
											waypoints: waypts,
											optimizeWaypoints: true,
											travelMode: 'DRIVING'
										}, function(response, status) {
											if (status === 'OK') {
												directionsDisplay.setDirections(response);

											} else {
												window.alert('Directions request failed due to ' + status);
											}
										});
										
										var latlngStr_A = document.getElementById('get_coor_value_AA').value.split(',', 2);
										var latlng_mA = {lat: parseFloat(latlngStr_A[0]), lng: parseFloat(latlngStr_A[1])};
										var image_a =   'https://www.coorin.com/bcoon/images/marker_a.png';
										var image_b =   'https://www.coorin.com/bcoon/images/marker_b.png';
										var marker_A = new google.maps.Marker({
											position: latlng_mA,
											draggable: true,
											title: 'Điểm đi',
											icon: image_a,
											map: map
										});
										
										
										marker_A.addListener( 'dragend', function(event){
											document.getElementById('get_coor_value_AA').value = event.latLng.lat()+","+event.latLng.lng();
										});
										
										markers_dd.push(marker_A);
										
										var geocoder = new google.maps.Geocoder();
										var address = document.getElementById('get_coor_value_B').value; 
										geocoder.geocode({'address': address}, function(results, status) {
											if (status === google.maps.GeocoderStatus.OK) {
												
												var marker_B = new google.maps.Marker({
													position: results[0].geometry.location,
													draggable: true,
													title: 'Điểm đến',
													icon: image_b,
													map: map
												});
												marker_B.addListener( 'dragend', function(event){
													document.getElementById('get_coor_value_B').value = event.latLng.lat()+","+event.latLng.lng();
												});
												
												markers_dd.push(marker_B);
												
											} else {
												alert('Geocode was not successful for the following reason: ' + status);
											}
										});
										
										
									});
									
								  }
								function markerShowUpLte(lat,lon,noidung,time,thutult) 
								{
									
									time = timeConverter(time);
									
									var myLatLng_set = {lat: lat, lng: lon};
																	
									var infowindow = new google.maps.InfoWindow;
									var geocoder = new google.maps.Geocoder;
									var image_i = 'https://www.coorin.com/bcoon/images/marker_i.png';
									
									var markerImage = {
											url: image_i, // url
											scaledSize: new google.maps.Size(30, 35), // scaled size
											origin: new google.maps.Point(0,0), // origin
											anchor: new google.maps.Point(0, 0) // anchor
										};
										
									var marker = new MarkerWithLabel({
											position: myLatLng_set,
											icon: markerImage,
											draggable: true,
											animation: google.maps.Animation.DROP,
											map: map
										});
									google.maps.event.addListener(map, 'zoom_changed', function() {
											
										var zoom = map.getZoom();
										
										var relativePixelSize_w = 30;
										var relativePixelSize_h = 35;
										if ( zoom == 15 )
										{
											relativePixelSize_w = (30*10)/10;
											relativePixelSize_h = (35*10)/10;
											
										}
										else if ( zoom <= 14 )
										{
											relativePixelSize_w = (30*10)/15;
											relativePixelSize_h = (35*10)/15;
											
										}
										//change the size of the icon
										marker.setIcon(
											new google.maps.MarkerImage(
												marker.getIcon().url, //marker's same icon graphic
												null,//size
												null,//origin
												null, //anchor
												new google.maps.Size(relativePixelSize_w, relativePixelSize_h) //changes the scale
											)
										); 
										
										$('#kqtcgt').html(zoom);
									});
									
									
									
									var idmrlt = 'get_coor_value_mrlt-'+thutult;
									var htidmrlt = 'kqltdlt-'+thutult;
									var toado = lat+","+lon;
									var dllt = "<input class='text' id="+idmrlt+" type='text' name='' value="+toado+" style='' />";
									var option = "<div id="+htidmrlt+"><input onclick='ltdlt("+thutult+")' class='inputMM' id='' type='submit' name='submit' value='Lưu' style='' /><input onclick='xadttdc("+thutult+")' class='inputMM' id='' type='submit' name='submit' value='Xóa' style='' /></div><div style='margin-top:20px;'></br>Lưu ý: Vui lòng tắt tất cả ghi chú trước khi thao tác ghi chú mới</div>";
									noidung = "Nội dung: "+noidung+"</br><input class='text' id='noidungidlt-"+thutult+"' type='text' name='noidungidlt' value='"+noidung+"' style='' />";
									
									thutult = "Mã lộ trình: "+thutult+"</br><input class='text' id='thutultid-"+thutult+"' type='text' name='thutultid' value='"+thutult+"' style='' />";
																		
									marker.addListener('click', function() {
										geocoder.geocode({'location': myLatLng_set}, function(results, status) {
											diachi = "Không xác định được tên địa chỉ. Vui lòng sử dụng tọa độ.";
											if (results[0]) {
												diachi = results[0].formatted_address;
											}
												infowindow.setContent(dllt+"</br>"+thutult+"</br>"+noidung+"</br>Địa chỉ: "+diachi+"</br>Tạo lúc: "+time+"</br>"+option);
												infowindow.open(map, marker);
										});
									});
									
									marker.addListener( 'dragend', function(event){
												document.getElementById(idmrlt).value = event.latLng.lat()+","+event.latLng.lng();
											});
									markers_dd.push(marker);									
								}
								
								function xadttdc(thutult)
								{
									var toado = $('#get_coor_value_mrlt-'+thutult).val();
									var noidung = $('#noidungidlt-'+thutult).val();
									var id_group = document.getElementById("nhom_get_tv").value;
									
									$.ajax({
										type: 'get',
										url: 'xadttdcpp.php?toado='+toado+'&noidung='+noidung+'&id_group='+id_group+'&thutult='+thutult,
										data: '',
										beforeSend: function(){
										},
										success: function(response){
											$('#kqltdlt-'+thutult).html(response);				
										}
									});
									
								}
								function ltdlt(thutult)
								{
									var toado = $('#get_coor_value_mrlt-'+thutult).val();
									var noidung = $('#noidungidlt-'+thutult).val();
									var id_group = document.getElementById("nhom_get_tv").value;
									
									$.ajax({
										type: 'get',
										url: 'ldldtdilt.php?toado='+toado+'&noidung='+noidung+'&id_group='+id_group+'&thutult='+thutult,
										data: '',
										beforeSend: function(){
										},
										success: function(response){
											$('#kqltdlt-'+thutult).html(response);				
										}
									});
									
								}
								
								var check_tem;
								
								function hienthimrgt() {
									
									directionsDisplay.setMap(null);	
									deleteMarkers();
									
									$('#bodytop').scrollTop(0);
									
									if($('#map').css('display') == 'block')
									{
										$("#map").css("display", "none");
										$("#mainmenu").css("display", "block"); 
										loadlmu();
									}
									else if($('#map').css('display') == 'none')
									{
										$("#map").css("display", "block");
										$("#mainmenu").css("display", "none");
										$("#chdoddcd").css("display", "none");										
									}	
									
									$("#optnttcd").html("Tra cứu giao thông");
									$("#idgtdiv").css("display", "block");
									$("#chdotcgt").css("display", "block");
										
									var myCenter='10.545097357617,106.77128434181213';
									
									var geocoder = new google.maps.Geocoder();
									var address = myCenter;
									geocoder.geocode({'address': address}, function(results, status) 
									{
										if (status === google.maps.GeocoderStatus.OK) 
										{
										
											// zoom 16
											cityCircle = new google.maps.Circle({
												strokeColor: '#FF0000',
												strokeOpacity: 0.15,
												strokeWeight: 2,
												fillColor: '#FF0000',
												fillOpacity: 0.05,
												map: map,
												center: results[0].geometry.location,
												radius: 1000 
											});
											// 1000 -> 1km
											
											var image = 'https://www.coorin.com/bcoon/images/marker_1.png';
											var marker_t = new google.maps.Marker({
											  position:results[0].geometry.location,
											  draggable: true,
											  title: 'Di chuyển icon này để chọn vị trí khảo sát',
											  icon: image,
											  map: map
											  });
											  
											marker_t.addListener( 'dragend', function(event){
												document.getElementById('get_coor_value_A').value = event.latLng.lat()+","+event.latLng.lng();
											});
											
											marker_gt.push(marker_t);
											
											
										} 
										else 
										{
											alert('Không tìm thấy vị trí cần tìm. Vui lòng nhập lại.');
										}
									});
									
								}
								var infoWindow_sanqua;
								var demTtvtsq = 0;
									
								function nhaploaiphuongtien() 
								{	 
									var loaiphuongtien = document.getElementById("loaiphuongtien").value;
									$.ajax({
										type: 'get',
										url: 'nhaploaiphuongtien.php?loaiphuongtien='+loaiphuongtien,
										data: '',
										beforeSend: function(){
										},
										success: function(response){
											$('#kqnhaploaiphuongtien_id').html(response);
										}
									});
								}
								function caidatnhom() 
								{	
									$("#mainmenu").css("display", "none"); 
									
									$("#nhomphuongtienlathanhvien_id").css("display", "none"); 
									$("#nhomphuongtienlaquanly_id").css("display", "none");
									
									$("#infoWindow_caidatnhom_id").css("display", "block"); 
									$("#taochiendichnoidung_id").css("display", "block"); 
									$.ajax({
										type: 'get',
										url: 'caidatnhomphuongtien.php',
										data: '',
										beforeSend: function(){
										},
										success: function(response){
											$('#taochiendichnoidung_id').html(response);
										}
									});
								}
								function taochiendichfunction() 
								{	
									dem_Aoevtsq = 1;
									$("#infoWindow_taochiendich_id").css("display", "block");
									$("#mainmenu").css("display", "none"); 
									$("#dropdown_id").css("display","none");
									infoWindow_sanqua = new google.maps.InfoWindow({map: map});
									
									sanquafunction_1();
								}
								function sanquafunction() 
								{	
									clearInterval(cnmr);
									infoWindow_sanqua.close();
									clearInterval(Aoevtsq);									
									
									$("#dropdown_id").css("display","none");
									
									mode_sq = 0;
									
									directionsDisplay.setMap(null);	
									
									deleteMarkers();
									
									$('#bodytop').scrollTop(0);
									
									if($('#map').css('display') == 'block')
									{
										$("#map").css("display", "none");
										$("#mainmenu").css("display", "block");
										loadlmu();
									}
									else if($('#map').css('display') == 'none')
									{
										$("#map").css("display", "block");
										$("#mainmenu").css("display", "none");
										$("#chdoddcd").css("display", "none");	
										$("#updttn").css("display", "none"); 
										$("#updttn_sanqua").css("display", "block"); 
										clearInterval(myVar);
									}
									
									infoWindow_sanqua = new google.maps.InfoWindow({map: map});
									
									
									dem_Aoevtsq_1 = 0;
									mode_sq = 0;
									$('#cdtdbt').html('<img style="width: 38px;height: 27px;margin: 10px;margin-left: 0px;margin-right: 0px;" src="https://www.coorin.com/bcoon/images/binhthuong.png" title="Tạm dừng chế độ cập nhật" />');
									Aoevtsq = setInterval(function(){  // tu dong sq
										sanquafunction_1()
									}, 1000);										
									
									var kiemtrabiensanqua = "dem_Aoevtsq_1: "+dem_Aoevtsq_1+",mode_sq: "+mode_sq;
									
								}
								
								function sanquafunction_1() 
								{	
									
									// Try HTML5 geolocation.
									var pos;
									if (navigator.geolocation) 
									{
										navigator.geolocation.getCurrentPosition(function(position) 
										{
											pos = {
												lat: position.coords.latitude,
												lng: position.coords.longitude
											};
											directionsDisplay.setMap(null);	
											deleteMarkers();
											
											infoWindow_sanqua.close();
											infoWindow_sanqua = new google.maps.InfoWindow({map: map});
											infoWindow_sanqua.setPosition(pos);
											infoWindow_sanqua.setContent("Vị trí của bạn-"+demTtvtsq);
											map.setCenter(pos);
											var url="gtdn_snqa.php?pos="+position.coords.latitude+","+position.coords.longitude;
											$.getJSON(url,function(json){
												$.each(json.posts,function(i,item){
													markerShowUp_snqa(item.username,parseFloat(item.lat),parseFloat(item.lon),parseFloat(item.loaiquatang),item.diachi,item.sts,item.toado,
													item.time,item.sodienthoai,item.image,item.check_time,parseFloat(item.id),parseFloat(item.madau),parseFloat(item.maxmadau),
													parseFloat(item.phantrammadau),parseFloat(item.phantrammaxmadau),parseFloat(item.khoangcach),parseFloat(item.check_khoangcach),
													parseFloat(item.c_circle),parseFloat(item.time_display_khoang),parseFloat(item.time_display_khoang_tg),item.hanhtrinhdua,
													item.check_snc,item.ketquacheck,parseFloat(item.check_time_td),item.image_kqsq)
													
												});
											});
											
										}, function() {
											handleLocationError(true, infoWindow_sanqua, map.getCenter());
										});
									} else {
										// Browser doesn't support Geolocation
										handleLocationError(false, infoWindow_sanqua, map.getCenter());
									}	
									
									demTtvtsq = demTtvtsq + 1;
									
								}
								var demsln = 0;
								
								function markerShowUp_snqa(username,lat_val,lon_val,loaiquatang,diachi,sts,toado,time,sodienthoai,image,check_time,id,madau,maxmadau,phantrammadau,phantrammaxmadau,
								khoangcach,check_khoangcach,c_circle,time_display_khoang,time_display_khoang_tg,hanhtrinhdua,check_snc,ketquacheck,check_time_td,image_kqsq) 
								{
									
									$("#dmtg-"+id).html(hanhtrinhdua);
									$("#dmtg2-"+id).html(check_time);
									$("#dmsdt-"+id).html(check_snc);
									$("#ketquacheck-"+id).html(ketquacheck);
									
									
									if (check_time_td == 0)
									{
										$("#kequsaqa-"+id).html(image_kqsq);
									}	
									
									if(loaiquatang == 0)
									{
										loaiquatang = "FREE";
									}
									else if(loaiquatang == 1)
									{
										loaiquatang = "Khuyến mãi 90%";
									}
								
									var infowindow = new google.maps.InfoWindow;
									var geocoder = new google.maps.Geocoder;
									
									var contentString = lat_val+","+lon_val;
									var myLatLng_set = {lat: lat_val, lng: lon_val};
									
									if (check_khoangcach <= khoangcach)
									{
										
										if (time_display_khoang == 1 )
										{
											
											{	
												var image_lpt = image;
												image_lpt = 'https://www.coorin.com/bcoon/images/marker_noname.png';
											
												var markerImage = {
													url: image_lpt, // url
													scaledSize: new google.maps.Size(30, 35), // scaled size
													origin: new google.maps.Point(0,0), // origin
													anchor: new google.maps.Point(0, 0) // anchor
												};
												var marker = new MarkerWithLabel({
													position: myLatLng_set,
													raiseOnDrag: true,
													labelContent: username,
													labelAnchor: new google.maps.Point(-16, 15), 
													labelClass: "labels", // the CSS class for the label
													icon: markerImage,
													map: map
												});
												markers.push(marker);
												google.maps.event.addListener(map, 'zoom_changed', function() 
												{
													var zoom = map.getZoom();
													
													var relativePixelSize_w = 30;
													var relativePixelSize_h = 35;
													if ( zoom == 15 )
													{
														relativePixelSize_w = (30*10)/10;
														relativePixelSize_h = (35*10)/10;
														
													}
													else if ( zoom <= 14 )
													{
														relativePixelSize_w = (30*10)/15;
														relativePixelSize_h = (35*10)/15;
														
													}
													//change the size of the icon
													marker.setIcon(
														new google.maps.MarkerImage(
															marker.getIcon().url, //marker's same icon graphic
															null,//size
															null,//origin
															null, //anchor
															new google.maps.Size(relativePixelSize_w, relativePixelSize_h) //changes the scale
														)
													); 
													
													$('#kqtcgt').html(zoom);
												});
												
												var sts_1 = "<div id='sts_id-"+id+"'>"+sts+"</div></br><div id='dmtg-"+id+"'>0</div></br><div onclick='lsln_ft("+id+")' style='background-color:#333;width:auto;color:#fff;cursor:pointer;'>Click để lấy</div>";
												
												var noidung = username+"</br>"+loaiquatang+"</br>"+diachi+"</br>"+toado+"</br>"+sodienthoai+"</br>"+image+"</br>"+time+"</br>"+sts;
												
									
												marker.addListener('click', function() {
													geocoder.geocode({'location': myLatLng_set}, function(results, status) {
														diachi = "Không xác định được tên địa chỉ. Vui lòng sử dụng tọa độ.";
														if (results[0]) {
															diachi = results[0].formatted_address;
														};
														
														$.ajax({
															type: 'get',
															url: 'tddq.php?id='+id+"&sts="+sts,
															data: '',
															beforeSend: function(){
															},
															success: function(response){
																$("#map").css("display", "none");
																$("#thongtinchitietquatang").css("display", "block");
																$("#thongtinchitietquatang_2").html(response);			
															}
														});
														
														demsln = 0;
													});
												});
												
											}	
										}	
									}	
									var cl_ce ;
									var snqaCircle;
									var toadoduongtron = new google.maps.LatLng(lat_val,lon_val);
									var noidungquatang_1;
									$.ajax({
										type: 'get',
										url: 'hienthinoidungchitietquatang.php?id='+id,
										data: '',
										beforeSend: function(){
										},
										success: function(response){
											noidungquatang_1 = response;				
										}
									});
									if (c_circle == 1) 
									{
										snqaCircle = new google.maps.Polygon({
											paths: [drawCircle(toadoduongtron, khoangcach/1000, 1),
											drawCircle(toadoduongtron, khoangcach/1000, -1)],
											strokeColor: "green",
											strokeOpacity: 0.3,
											strokeWeight: 15,
											fillColor: "green",
											fillOpacity: 0.3
										});
										
										snqaCircle.setMap(map);
										snqaCircles.push(snqaCircle);
										snqaCircle.addListener('click', function() 
										{
											
											$("#map").css("display", "none");
											$("#thongtinchitietquatang").css("display", "block");
											
											$("#thongtinchitietquatang_2").html(noidungquatang_1);
											
											demsln = 0;
										});
										
									}
									else if (c_circle == 2)
									{
										
										{
											snqaCircle = new google.maps.Polygon({
												paths: [drawCircle(toadoduongtron, khoangcach/1000, 1),
												drawCircle(toadoduongtron, khoangcach/1000, -1)],
												strokeColor: "red",
												strokeOpacity: 0.3,
												strokeWeight: 15,
												fillColor: "red",
												fillOpacity: 0.3
											});
											snqaCircle.setMap(map);
											snqaCircles.push(snqaCircle);
											snqaCircle.addListener('click', function() 
											{
												
												$("#map").css("display", "none");
												$("#thongtinchitietquatang").css("display", "block");
												
												$("#thongtinchitietquatang_2").html(noidungquatang_1);
												
												demsln = 0;
											});
										}
									}
									
																		
								}
								
								function lsln_ft(id)
								{
									var sln_value = $('#sln-'+id).val();
									
									$.ajax({
										type: 'get',
										url: 'vdtvsd.php?id='+id,
										data: '',
										beforeSend: function(){
										},
										success: function(response){
											$('#sts_id-'+id).html(response);				
										}
									});
									
									
								}
								var dem_thongtinquatang = 0;
								function capnhatvitridesanqua()
								{
									infoWindow_sanqua.close();
									infoWindow_sanqua = new google.maps.InfoWindow({map: map});
									// Try HTML5 geolocation.
									if (navigator.geolocation) {
										navigator.geolocation.getCurrentPosition(function(position) 
										{
											var pos = {
												lat: position.coords.latitude,
												lng: position.coords.longitude
											};
											$('#tinnhanmoi_sanqua').html("Vĩ độ: " + position.coords.latitude +	"<br>Kinh độ: " + position.coords.longitude +  "<br>Luot cap nhat: " + dem_thongtinquatang);
											
											infoWindow_sanqua.setPosition(pos);
											infoWindow_sanqua.setContent('Vị trí của bạn');
											map.setCenter(pos);
										}, function() {
											handleLocationError(true, infoWindow_sanqua, map.getCenter());
										});
									} else {
										// Browser doesn't support Geolocation
										handleLocationError(false, infoWindow_sanqua, map.getCenter());
									}
									dem_thongtinquatang = dem_thongtinquatang + 1;
								}
								function handleLocationError(browserHasGeolocation, infoWindow_sanqua, pos) 
								{
									infoWindow_sanqua.setPosition(pos);
									infoWindow_sanqua.setContent(browserHasGeolocation ?
									'Error: The Geolocation service failed.' :
									'Error: Your browser doesn\'t support geolocation.');
								}
								
								function canhbaoacquy() {
									
									var url="getDataCanhBaoAcquy.php";
									$.getJSON(url,function(json){
										$.each(json.posts,function(i,post){
											
											var emg = parseFloat(post.earnMoney_get);
											var emg_2 = emg.toFixed(2);
											$('#emg').html(emg_2+" vnđ");
											
											var sdutk = parseFloat(post.sdtk);
											var sdutk_2 = sdutk.toFixed(2);
											$('#sdutk').html(sdutk_2+" vnđ");
											
											var tgsdu = parseFloat(post.tgdsd);
											var tgsdu_2 = tgsdu.toFixed(2);
											$('#tgsdu').html(tgsdu_2+" phút");
											
											var tkmu = parseFloat(post.tkmu);
											$('#tkmu').html(tkmu+" giây");
											
										});
									});
									
								}
								
								function dplsMTvi() {
									
									myTimer();
									deleteMarkers();
								}
								function updtnf() {
									myVar = setInterval(function(){ 
										udtn()
									}, 1000);
								}
								function dplMrGc() {
									var nhom = document.getElementById("nhom_get_tv").value;
									
									var url="ldtghch.php?nhom="+nhom+"&time_request=3";
									
									$.getJSON(url,function(json){
										$.each(json.posts,function(i,item){
											markerShowUpGc(item.noidung,parseFloat(item.lat),parseFloat(item.lon),item.username,parseFloat(item.time),parseFloat(item.ketxe),parseFloat(item.thamhoa),parseFloat(item.ngaplut),parseFloat(item.thicong),parseFloat(item.nhieuoto),parseFloat(item.id),parseFloat(item.cagt),parseFloat(item.tngt),parseFloat(item.huhongdg),parseFloat(item.cim))
										});
									});
								}
								function markerShowUpGc(noidung,lat,lon,username,time,ketxe,thamhoa,ngaplut,thicong,nhieuoto,id,cagt,tngt,huhongdg,cim) 
								{
									var cimct;
									if(cim==1)
									{
										cimct = "<div id='ttxagc'><input onclick='xoamkgc("+id+")' class='inputMM' id='' type='submit' name='submit' value='Xóa' style=' title='Xóa ghi chú này ra khỏi bản đồ' /></div>";
									}	
									else if(cim==0)
									{
										cimct = "";
									}									
									var infowindow = new google.maps.InfoWindow;
									var imageBc = 'https://www.coorin.com/bcoon/images/marker_binhthuong.png';
									var myLatLng_set = {lat: lat, lng: lon};
									if (ketxe==1)
									{
										imageBc = 'https://www.coorin.com/bcoon/images/marker_traffic_jam.png';
									}
									else if (thamhoa==1)
									{
										imageBc = 'https://www.coorin.com/bcoon/images/marker_thamhoa.png';
									}
									else if (ngaplut==1)
									{
										imageBc = 'https://www.coorin.com/bcoon/images/marker_ngaplut.png';
									}
									else if (thicong==1)
									{
										imageBc = 'https://www.coorin.com/bcoon/images/marker_thicong.png';
									}
									else if (nhieuoto==1)
									{
										imageBc = 'https://www.coorin.com/bcoon/images/marker_nhieuoto.png';
									}
									else if (cagt==1)
									{
										imageBc = 'https://www.coorin.com/bcoon/images/cagt.png';
									}
									else if (tngt==1)
									{
										imageBc = 'https://www.coorin.com/bcoon/images/tngt.png';
									}
									else if (huhongdg==1)
									{
										imageBc = 'https://www.coorin.com/bcoon/images/marker_binhthuong.png';
									}
									var marker = new MarkerWithLabel({
											position: myLatLng_set,
											raiseOnDrag: true,
											map: map, 
											labelContent: "",
											labelAnchor: new google.maps.Point(0, 27), 
											labelClass: "labels", // the CSS class for the label
											icon: imageBc
										});
									username = "Tạo bởi: "+username;
									time = timeConverter(time);
									time = "Lúc : "+time;
									
									marker.addListener('click', function() {
										infowindow.setContent(noidung+"</br>"+time+"</br>"+username+"</br>"+cimct);
										infowindow.open(map, marker);
									});
									
									markers_ghichu.push(marker);		
																	
								}
								var id_marker = 0 ;
								function placeMarkerLt(location) {
									id_marker = id_marker + 1;
									
									var latlngStr_mgc = location.split(',', 2);
									var latlng_mgc = {lat: parseFloat(latlngStr_mgc[0]), lng: parseFloat(latlngStr_mgc[1])};
									
									var marker_m = new google.maps.Marker({
										position: latlng_mgc, 
										icon: image,
										draggable: true,
										animation: google.maps.Animation.DROP,
										map: map
									});
	
									var chedo = document.getElementById("chedo_get").value;
									
									var infowindow;
									if(chedo==0)
									{
										
										infowindow = new google.maps.InfoWindow({
											content:"<div id='kqthlnlt'>Kết quả</div>Vị trí số "+id_marker+"</br><input name ='thutult' id='thutult' style='' type='text' class='text' value='"+id_marker+"' readonly ></br>Nội dung ghi chú: </br><input placeholder='Nhập nội dung ghi chú tại đây' name ='ndtinnnktlt' id='ndtinnnktlt' style='' type='text' class='text' value='' / ></br><div style=''>Tọa độ:</br><input placeholder='Nhập vị trí' name ='toado_lt' id='toado_lt' style='' type='text' class='text inputVitri_1' value='"+location+"' readonly /></div><input onclick='nhaplttd()' class='inputMM' id='submittlt' type='submit' name='submit' value='Lưu' style='display:block;' title='Tạo lộ trình' /></br><div style='margin-top:20px;'>Lưu ý: Vui lòng tắt hộp thoại cũ trước khi thao tác với vị trí mới.</div>"

										});
									}
									else if(chedo==1)
									{
										
										infowindow = new google.maps.InfoWindow({
											content:"<div style=''>Bạn không thể tạo ghi chú khi tham gia nhóm công khai</div>"
										});
									}
									
									infowindow.open(map,marker_m);
									
									google.maps.event.addListener(marker_m, 'click', function() {
										infowindow.open(map,marker_m);
									});
									
									marker_m.addListener( 'dragend', function(event){
										document.getElementById('toado_lt').value = event.latLng.lat()+","+event.latLng.lng();
									});
									
									marker_mpom.push(marker_m);
									
								}
								function nhaplttd()
								{
									var toado_lt = document.getElementById("toado_lt").value;
									var noidungghichult = document.getElementById("ndtinnnktlt").value; 
									var id_group = document.getElementById("nhom_get_tv").value; 
									
									$.ajax({
										type: 'get',
										url: 'nhaplttd.php?toado_lt='+toado_lt+'&id_group='+id_group+'&noidungghichult='+noidungghichult,
										data: '',
										beforeSend: function(){
										},
										success: function(response){
											$('#kqthlnlt').html(response);				
											$('#submittlt').css("display","none");				
										}
									});
									
								}
								function placeMarker(location) {
									id_marker = id_marker + 1;
									
									var latlngStr_mgc = location.split(',', 2);
									var latlng_mgc = {lat: parseFloat(latlngStr_mgc[0]), lng: parseFloat(latlngStr_mgc[1])};
									
									var marker_m = new google.maps.Marker({
										position: latlng_mgc, 
										icon: image,
										draggable: true,
										animation: google.maps.Animation.DROP,
										map: map
									});
	
									var chedo = document.getElementById("chedo_get").value;
									
									var infowindow;
									
									{
										
										infowindow = new google.maps.InfoWindow({
											content:"<div style=''>Vị trí số "+id_marker+"</br><div id='result_note_a'>Tọa độ:</br><input placeholder='Nhập vị trí' name ='toado' id='toado' style='' type='text' class='text inputVitri_1' value='"+location+"' readonly ></br>Nội dung tin nhắn:</br><input placeholder='Nhập tin nhắn' name ='noidung' id='noidung' style='' type='text' class='text inputVitri_1' value='' ></br>Phạm vi gởi cảnh báo:</br><select name='phamvi' id='phamvi'><option value='5'>5 km</option><option value='10'>10 km</option><option value='50'>50 km</option></select><div id='' style='padding: 0px;'></br><input onclick='ketxe_cb_map(1)' class='inputMM' id='' type='submit' name='submit' value='Kẹt xe' style='' title='Gởi tin nhắn báo kẹt xe' /><input onclick='ketxe_cb_map(2)' class='inputMM' id='' type='submit' name='submit' value='Công an' style='width:80px;' title='Gởi tin nhắn báo có chốt cảnh sát gia thông' /><input onclick='ketxe_cb_map(3)' class='inputMM' id='' type='submit' name='submit' value='Tai nạn' style='width:87px;' title='Gởi cảnh báo có tai nạn giao thông xảy ra'/><input onclick='ketxe_cb_map(4)' class='inputMM' id='' type='submit' name='submit' value='Ngập lụt' style='width:87px;' title='Gởi cảnh báo đoạn đường bị ngập lụt'/><input onclick='ketxe_cb_map(5)' class='inputMM' id='' type='submit' name='submit' value='Thi công' style='width:87px;' title='Gởi cảnh báo đoạn đường đang thi công'/><input onclick='ketxe_cb_map(6)' class='inputMM' id='' type='submit' name='submit' value='Nhiều ôtô' style='width:87px;' title='Gởi tin nhắn cảnh báo có nhiều xe tải/bus đang lưu thông'/><input onclick='ketxe_cb_map(7)' class='inputMM' id='' type='submit' name='submit' value='Đường hỏng' style='width:87px;' title='Gởi tin nhắn cảnh báo đoạn đường đang bị hư hỏng' /></div></div></div>"
										});
									}
									
									
									infowindow.open(map,marker_m);
									
									google.maps.event.addListener(marker_m, 'click', function() {
										infowindow.open(map,marker_m);
									});
									
									marker_m.addListener( 'dragend', function(event){
										document.getElementById('toado').value = event.latLng.lat()+","+event.latLng.lng();
									});
									
									marker_mpom.push(marker_m);
									
								}
								function addnoteNxt() {
									var toado = document.getElementById("toado").value;
									var noidung = document.getElementById("noidung").value;
									var phamvi =  $('select[name=phamvi]').val();
									var id_group = document.getElementById("nhom_get_tv").value;
									var id_goi = 1;
								
									var latlngStr = toado.split(',', 2);
									var latlng = {lat: parseFloat(latlngStr[0]), lng: parseFloat(latlngStr[1])};
									
									
									var geocoder = new google.maps.Geocoder;
									geocoder.geocode({'location': latlng}, function(results, status) {
											vitri = "Không xác định được tên địa chỉ. Vui lòng sử dụng tọa độ.";
											if (results[0]) {
												vitri = results[0].formatted_address;
											}
												$.ajax({
													type: 'get',
													url: 'taoghichuNoto.php?toado='+toado+'&vitri='+vitri+'&noidung='+noidung+'&id_group='+id_group+'&id_goi='+id_goi+'&phamvi='+phamvi,
													data: '',
													beforeSend: function(){
														
													},
													success: function(response){
														$('#result_note_a').html(response);
													}
												});
									});
								}
								function addnoteTc() {
									var toado = document.getElementById("toado").value;
									var noidung = document.getElementById("noidung").value;
									var phamvi =  $('select[name=phamvi]').val();
									var id_group = document.getElementById("nhom_get_tv").value;
									var id_goi = 1;
									
									var latlngStr = toado.split(',', 2);
									var latlng = {lat: parseFloat(latlngStr[0]), lng: parseFloat(latlngStr[1])};
									
									
									var geocoder = new google.maps.Geocoder;
									geocoder.geocode({'location': latlng}, function(results, status) {
											vitri = "Không xác định được tên địa chỉ. Vui lòng sử dụng tọa độ.";
											if (results[0]) {
												vitri = results[0].formatted_address;
											}
												$.ajax({
													type: 'get',
													url: 'taoghichuTc.php?toado='+toado+'&vitri='+vitri+'&noidung='+noidung+'&id_group='+id_group+'&id_goi='+id_goi+'&phamvi='+phamvi,
													data: '',
													beforeSend: function(){
														
													},
													success: function(response){
														$('#result_note_a').html(response);
													}
												});
									});
								}
								function addnoteNl() {
									var toado = document.getElementById("toado").value;
									var noidung = document.getElementById("noidung").value;
									var phamvi =  $('select[name=phamvi]').val();
									var id_group = document.getElementById("nhom_get_tv").value;
									var id_goi = 1;
									
									var latlngStr = toado.split(',', 2);
									var latlng = {lat: parseFloat(latlngStr[0]), lng: parseFloat(latlngStr[1])};
									
									
									var geocoder = new google.maps.Geocoder;
									geocoder.geocode({'location': latlng}, function(results, status) {
											vitri = "Không xác định được tên địa chỉ. Vui lòng sử dụng tọa độ.";
											if (results[0]) {
												vitri = results[0].formatted_address;
											}
												$.ajax({
													type: 'get',
													url: 'taoghichuNl.php?toado='+toado+'&vitri='+vitri+'&noidung='+noidung+'&id_group='+id_group+'&id_goi='+id_goi+'&phamvi='+phamvi,
													data: '',
													beforeSend: function(){
														
													},
													success: function(response){
														$('#result_note_a').html(response);
													}
												});
									});
								}
								function addnoteKx() {
									var toado = document.getElementById("toado").value;
									var noidung = document.getElementById("noidung").value;
									var phamvi =  $('select[name=phamvi]').val();
									var id_group = document.getElementById("nhom_get_tv").value;
									var id_goi = 1;
									
									var latlngStr = toado.split(',', 2);
									var latlng = {lat: parseFloat(latlngStr[0]), lng: parseFloat(latlngStr[1])};
									
									
									var geocoder = new google.maps.Geocoder;
									geocoder.geocode({'location': latlng}, function(results, status) {
											vitri = "Không xác định được tên địa chỉ. Vui lòng sử dụng tọa độ.";
											if (results[0]) {
												vitri = results[0].formatted_address;
											}
												$.ajax({
													type: 'get',
													url: 'taoghichuKx.php?toado='+toado+'&vitri='+vitri+'&noidung='+noidung+'&id_group='+id_group+'&id_goi='+id_goi+'&phamvi='+phamvi,
													data: '',
													beforeSend: function(){
														
													},
													success: function(response){
														$('#result_note_a').html(response);
													}
												});
									});
								}
								function addnoteTh() {
									var toado = document.getElementById("toado").value;
									var noidung = document.getElementById("noidung").value;
									var phamvi =  $('select[name=phamvi]').val();
									var id_group = document.getElementById("nhom_get_tv").value;
									var id_goi = 1;
									
									var latlngStr = toado.split(',', 2);
									var latlng = {lat: parseFloat(latlngStr[0]), lng: parseFloat(latlngStr[1])};
									
									
									var geocoder = new google.maps.Geocoder;
									geocoder.geocode({'location': latlng}, function(results, status) {
											vitri = "Không xác định được tên địa chỉ. Vui lòng sử dụng tọa độ.";
											if (results[0]) {
												vitri = results[0].formatted_address;
											}
												$.ajax({
													type: 'get',
													url: 'taoghichuTh.php?toado='+toado+'&vitri='+vitri+'&noidung='+noidung+'&id_group='+id_group+'&id_goi='+id_goi+'&phamvi='+phamvi,
													data: '',
													beforeSend: function(){
														
													},
													success: function(response){
														$('#result_note_a').html(response);
													}
												});
									});
								}
								function addnoteBt() {
									var toado = document.getElementById("toado").value;
									var noidung = document.getElementById("noidung").value;
									var phamvi =  $('select[name=phamvi]').val();
									var id_group = document.getElementById("nhom_get_tv").value;
									var id_goi = 1;
									
									var latlngStr = toado.split(',', 2);
									var latlng = {lat: parseFloat(latlngStr[0]), lng: parseFloat(latlngStr[1])};
									
									
									var geocoder = new google.maps.Geocoder;
									geocoder.geocode({'location': latlng}, function(results, status) {
											vitri = "Không xác định được tên địa chỉ. Vui lòng sử dụng tọa độ.";
											if (results[0]) {
												vitri = results[0].formatted_address;
											}
												$.ajax({
													type: 'get',
													url: 'taoghichuBt.php?toado='+toado+'&vitri='+vitri+'&noidung='+noidung+'&id_group='+id_group+'&id_goi='+id_goi+'&phamvi='+phamvi,
													data: '',
													beforeSend: function(){
														
													},
													success: function(response){
														$('#result_note_a').html(response);
													}
												});
									});
								}
								function udtn() {
									$.ajax({
										type: 'get',
										url: 'udtn.php',
										data: '',
										beforeSend: function(){
											
										},
										success: function(response){
											$('#tinnhanmoi').html(response);
										}
									});
									
								} 
								function myTimer() {
									var pos;
									var pos_lat;
									var pos_lon;
									if (navigator.geolocation) 
									{
										navigator.geolocation.getCurrentPosition(function(position) 
										{
											pos = {
												lat: position.coords.latitude,
												lng: position.coords.longitude
											};
											pos_lat = position.coords.latitude;
											pos_lon = position.coords.longitude;
											
											dplMrGc(); //ghi chu
											var nhom = document.getElementById("nhom_get_tv").value;
											var url="gtdn.php?nhom="+nhom+"&time_request=3&pos_lat="+pos_lat+"&pos_lon="+pos_lon;
											
											$.getJSON(url,function(json){
												$.each(json.posts,function(i,item){
													markerShowUp(item.username,parseFloat(item.lat),parseFloat(item.lon),parseFloat(item.speed),parseFloat(item.volCar),parseFloat(item.volMotor),parseFloat(item.time),parseFloat(item.cim),parseFloat(item.id_member))
												});
											});
											
										}, function() {
										});
									} else {
									}									
								}
								
								function markerShowUp(username,lat_val,lon_val,speed,volCar,volMotor,time,cim,id_member) 
								{									
									
									time = timeConverter(time);
									var image_lpt = image;
									
									
									if ( volCar >= 10 )
									{
										if ( volMotor < 10 )
										{
											image_lpt = 'https://www.coorin.com/bcoon/images/marker_car.png';
										}
										else
										{
											image_lpt = 'https://www.coorin.com/bcoon/images/marker_noname.png';
										}
									}
									else
									{
										if ( volMotor < 10 )
										{
										}
										else
										{
											image_lpt = 'https://www.coorin.com/bcoon/images/marker_motobike.png';
											
										}
									}
									
																		
									if(speed == 0)
									{
										speed = "Phương tiện đang đứng yên";
									}
									else
									{
										speed = "Phương tiện đang di chuyển với tốc độ: "+speed+" km/h";
									}
								
									var infowindow = new google.maps.InfoWindow;
									var geocoder = new google.maps.Geocoder;
									
									var contentString = lat_val+","+lon_val;
									var myLatLng_set = {lat: lat_val, lng: lon_val};
									
									var markerImage = {
											url: image_lpt, // url
											scaledSize: new google.maps.Size(30, 35), // scaled size
											origin: new google.maps.Point(0, 0), // origin
											anchor: new google.maps.Point(15, 30) // anchor
										};
										
									var marker = new MarkerWithLabel({
											position: myLatLng_set,
											raiseOnDrag: true,
											labelContent: username,
											labelAnchor: new google.maps.Point(-16, 15), // (-16, 15)
											labelClass: "labels", // the CSS class for the label
											icon: markerImage,
											map: map
										});
									var zoom = map.getZoom();
											
									var relativePixelSize_w = 30;
									var relativePixelSize_h = 35;
									if ( zoom == 15 )
									{
										relativePixelSize_w = (30*10)/10;
										relativePixelSize_h = (35*10)/10;
										
									}
									else if ( zoom <= 14 )
									{
										relativePixelSize_w = (30*10)/15;
										relativePixelSize_h = (35*10)/15;
										
									}
									//change the size of the icon
									marker.setIcon(
										new google.maps.MarkerImage(
											marker.getIcon().url, //marker's same icon graphic
											null,//size
											null,//origin
											null, //anchor
											new google.maps.Size(relativePixelSize_w, relativePixelSize_h) //changes the scale
										)
									); 
									
									google.maps.event.addListener(map, 'zoom_changed', function() {
											
											var zoom = map.getZoom();
											
											var relativePixelSize_w = 30;
											var relativePixelSize_h = 35;
											if ( zoom == 15 )
											{
												relativePixelSize_w = (30*10)/10;
												relativePixelSize_h = (35*10)/10;
												
											}
											else if ( zoom <= 14 )
											{
												relativePixelSize_w = (30*10)/15;
												relativePixelSize_h = (35*10)/15;
												
											}
											//change the size of the icon
											marker.setIcon(
												new google.maps.MarkerImage(
													marker.getIcon().url, //marker's same icon graphic
													null,//size
													null,//origin
													null, //anchor
													new google.maps.Size(relativePixelSize_w, relativePixelSize_h) //changes the scale
												)
											); 
											
										});
									
									var cdmin;
									if (cim==1)
									{	
										cdmin = "<input onclick='xatvtmp()' id='' type='submit' name='submit' value='Xóa thành viên' title='Xóa thành viên này ra khỏi nhóm' style='width:130px;cursor:pointer;padding: 5px;text-align: center;background: #4fc1e9;font-weight: bold;color: #fff;border-radius: 4px; display: block;font-family: sans-serif;border: 0px;'/>";
									}
									else
									{
										cdmin = "";
									}
									var nguoigoi = 1;
									
									marker.addListener('click', function() {
										geocoder.geocode({'location': myLatLng_set}, function(results, status) {
											diachi = "Không xác định được tên địa chỉ. Vui lòng sử dụng tọa độ.";
											if (results[0]) {
												diachi = results[0].formatted_address;
											}
												infowindow.setContent("<div style=''>Thành viên: "+username+"</br>Thời gian: "+time+"</br>Địa chỉ: "+diachi+"</br>Tọa độ: "+lat_val+"  ,  "+lon_val+"</br>"+speed+"<div id='result_tinnhan'></div></br>Gởi tin nhắn cho thành viên này: </br><textarea placeholder='Nhập nội dung tin nhắn' id='noidung_tinnhan' style='color:#b4b4b4;text-transform: none; ;font-size: 1.3em;width:100%; ' class='text' value='' ></textarea> <input name ='goiden' id='goiden' style='color:#b4b4b4;text-transform: none; ;font-size: 1.3em; ' type='hidden' class='text' value='"+id_member+"' /> </br><input name ='nguoigoi' id='nguoigoi' style='color:#b4b4b4;text-transform: none; ;font-size: 1.3em; ' type='hidden' class='text' value='"+nguoigoi+"' /><input onclick='goitinnhan()' id='' type='submit' name='submit' value='Gởi tin' style='width:100px;cursor:pointer;padding: 5px;text-align: center;background: #4fc1e9;float:left; margin-right: 20px;font-weight: bold;color: #fff;border-radius: 4px; display: block;font-family: sans-serif;border: 0px;'/>"+cdmin+"</div>");
												infowindow.open(map, marker);
										});
									});
									
									markers.push(marker);		

									if ( id_member == 1)
									{
										var zoom = map.getZoom();
										var lat_val_mp = lat_val;
										var lon_val_mp = lon_val;
										var bounds = new google.maps.LatLngBounds();
										var myPosition = new google.maps.LatLng(lat_val_mp, lon_val_mp);
										bounds.extend( myPosition );
										map.fitBounds(bounds);
										map.setZoom(zoom);
									}
																	
								}
								// Sets the map on all markers in the array.
								function setMapOnAll(map) {
								  for (var i = 0; i < markers.length; i++) {
									markers[i].setMap(map);
								  }
								  for (var i = 0; i < markers_ghichu.length; i++) {
									markers_ghichu[i].setMap(map);
								  }
								  for (var i = 0; i < marker_mpom.length; i++) {
									marker_mpom[i].setMap(map);
								  }
								  for (var i = 0; i < marker_gt.length; i++) {
									marker_gt[i].setMap(map);
								  }
								  for (var i = 0; i < markers_htgt.length; i++) {
									markers_htgt[i].setMap(map);
								  }
								  for (var i = 0; i < markers_dd.length; i++) {
									markers_dd[i].setMap(map);
								  }
								  for (var i = 0; i < snqaCircles.length; i++) {
									snqaCircles[i].setMap(map);
								  }
								  
								}
								function setMapOnAllTghichu(map) {
								  for (var i = 0; i < markers.length; i++) {
									markers[i].setMap(map);
								  }
								  for (var i = 0; i < marker_mpom.length; i++) {
									marker_mpom[i].setMap(map);
								  }
								  for (var i = 0; i < marker_gt.length; i++) {
									marker_gt[i].setMap(map);
								  }
								  for (var i = 0; i < markers_htgt.length; i++) {
									markers_htgt[i].setMap(map);
								  }
								  for (var i = 0; i < markers_dd.length; i++) {
									markers_dd[i].setMap(map);
								  }
								  for (var i = 0; i < snqaCircles.length; i++) {
									snqaCircles[i].setMap(map);
								  }
								  
								}
								// Removes the markers from the map, but keeps them in the array.
								function clearMarkers() {
								  setMapOnAll(null);								  
								}
								function clearTghichu() {
								  setMapOnAllTghichu(null);								  
								}
								// Deletes all markers in the array by removing references to them.
								function deleteMarkers() {
									clearMarkers();
									markers = [];
									markers_ghichu = [];
									marker_mpom = [];
									marker_gt = [];
									markers_htgt = [];
									markers_dd = [];
									snqaCircles = [];
								}
								function deleteTghichu() {
									clearTghichu();
									markers = [];
									marker_mpom = [];
									marker_gt = [];
									markers_htgt = [];
									markers_dd = [];
									snqaCircles = [];
								}
								// Shows any markers currently in the array.
								function showMarkers() {
								  setMapOnAll(map);								  
								}
								
								function timeConverter(UNIX_timestamp){
								  var a = new Date(UNIX_timestamp * 1000);
								  var months = ['tháng 1','tháng 2','tháng 3','tháng 4','tháng 5','tháng 6','tháng 7','tháng 8','tháng 9','tháng 10','tháng 11','tháng 12'];
								  var year = a.getFullYear();
								  var month = months[a.getMonth()];
								  var date = a.getDate();
								  var hour = a.getHours();
								  var min = a.getMinutes();
								  var sec = a.getSeconds();
								  var time =  hour + ' giờ ' + min + ' phút ' + sec + ' giây  Ngày ' + date + ' ' + month + ' năm ' + year;
								  return time;
								}
								function drawCircle(point, radius, dir) 
								{ 
									radius = radius*0.62137;
									var d2r = Math.PI / 180;   // degrees to radians 
									var r2d = 180 / Math.PI;   // radians to degrees 
									var earthsradius = 3963; // 3963 is the radius of the earth in miles

									var points = 32; 

									// find the raidus in lat/lon 
									var rlat = (radius / earthsradius) * r2d; 
									var rlng = rlat / Math.cos(point.lat() * d2r); 

									var bounds = new google.maps.LatLngBounds();
									
									var extp = new Array(); 
									if (dir==1)  {var start=0;var end=points+1} // one extra here makes sure we connect the
									else     {var start=points+1;var end=0}
									for (var i=start; (dir==1 ? i < end : i > end); i=i+dir)  
									{ 
										var theta = Math.PI * (i / (points/2)); 
										ey = point.lng() + (rlng * Math.cos(theta)); // center a + radius x * cos(theta) 
										ex = point.lat() + (rlat * Math.sin(theta)); // center b + radius y * sin(theta) 
										extp.push(new google.maps.LatLng(ex, ey)); 
										bounds.extend(extp[extp.length-1]);
									} 
									return extp;
								}
								function tcgtldt(){
									deleteMarkers();
									cityCircle.setMap(null);
									var get_coor_value_A = document.getElementById("get_coor_value_A").value;
									var bankinhbaove_value = document.getElementById("bankinhbaove_value").value;
									var loaixe = document.getElementById("loaixe").value;
									var hour = document.getElementById("hour").value;
									var minute = document.getElementById("minute").value;
									var day = document.getElementById("day").value;
									var month = document.getElementById("month").value;
									var year = document.getElementById("year").value;
									var time_ss = year+"-"+month+"-"+day+" "+hour+":"+minute;
									
									var locthoigian = document.getElementById("locthoigian").checked;
									var giatrilocthoigian = 0;
									if ( locthoigian == true )
									{
										giatrilocthoigian = 1;										
									}
									else if ( locthoigian == false )
									{
										giatrilocthoigian = 0;										
									}
									
									$('#kqtcgt').html(get_coor_value_A+"</br>"+bankinhbaove_value+"</br>"+loaixe+"</br>"+time_ss);	
									
									var geocoder = new google.maps.Geocoder();
									var address = get_coor_value_A;
									geocoder.geocode({'address': address}, function(results, status) {
										if (status === google.maps.GeocoderStatus.OK) {
											
											var marker_p = new google.maps.Marker({
												position: results[0].geometry.location,
												draggable: true,
												map: map,
												icon: image,
												title: 'Di chuyển icon này để chọn vị trí khảo sát'
											});
											marker_p.addListener( 'dragend', function(event){
												document.getElementById('get_coor_value_A').value = event.latLng.lat()+","+event.latLng.lng();
											});
											
											marker_gt.push(marker_p);
											
											cityCircle = new google.maps.Polygon({
												paths: [drawCircle(results[0].geometry.location, bankinhbaove_value, 1),
												drawCircle(results[0].geometry.location, bankinhbaove_value, -1)],
												strokeColor: "#FF0000",
												strokeOpacity: 0.8,
												strokeWeight: 2,
												fillColor: "#FF0000",
												fillOpacity: 0.35
											});
											
											cityCircle.setMap(map);
											
											var bounds = new google.maps.LatLngBounds();
											
											bounds.extend( results[0].geometry.location );
											map.fitBounds(bounds);
											map.setZoom(16);
											var lat_1 = results[0].geometry.location.lat();
											var lng_1 = results[0].geometry.location.lng();
											
											var time_ss = year+"-"+month+"-"+day+" "+hour+":"+minute;
											
											displayMarkerGt(lat_1,lng_1,bankinhbaove_value,time_ss,loaixe,giatrilocthoigian);
											displayMarkerBbgt(lat_1,lng_1,bankinhbaove_value,time_ss,loaixe);
											
											var time_in = 1511581165;
											
											udmyo = setInterval(function(){ 
											}, 1000);
												
										} else {
											alert('Không tìm thấy vị trí cần tìm. Vui lòng nhập lại.');
										}
									});
								}
								
								function ma(lat_1,lng_1,bankinhbaove_value,time_ss,loaixe,time_in)
								{
									var url="getAllPt.php?lat_1="+lat_1+"&lng_1="+lng_1+"&bankinhbaove_value="+bankinhbaove_value+"&loaixe="+loaixe+"&time_ss="+time_ss+"&time_in="+time_in;
									
									$.ajax({
										type: 'get',
										url: url,
										data: '',
										beforeSend: function(){
											
										},
										success: function(response){
											if (response==1)
											{
												$("#alert").css("display", "block");
												$("#map").css("display", "none");
											}
											else if (response==0)
											{
												$("#alert").css("display", "none");
												$("#map").css("display", "block");
											}
										}
									});
								}
								function displayMarkerGt(lat_1,lng_1,bankinhbaove_value,time_ss,loaixe,giatrilocthoigian)
									{
										var url="getDatattgt.php?lat_1="+lat_1+"&lng_1="+lng_1+"&bankinhbaove_value="+bankinhbaove_value+"&loaixe="+loaixe+"&time_ss="+time_ss+"&giatrilocthoigian="+giatrilocthoigian;
										$.getJSON(url,function(json){
											$.each(json.posts,function(i,item){
												markerShowUpGt(parseFloat(item.lat),parseFloat(item.lon),parseFloat(item.speed),item.icon_image,parseFloat(item.loaixe),parseFloat(item.id),parseFloat(item.time))
											});
										});
									}
								function displayMarkerBbgt(lat_1,lng_1,bankinhbaove_value,time_ss,loaixe)
									{
										var url="getDataBbgt.php?lat_1="+lat_1+"&lng_1="+lng_1+"&bankinhbaove_value="+bankinhbaove_value+"&loaixe="+loaixe+"&time_ss="+time_ss;
										$.getJSON(url,function(json){
											$.each(json.posts,function(i,item){
												markerShowUpGc(item.noidung,parseFloat(item.lat),parseFloat(item.lon),item.username,parseFloat(item.time),parseFloat(item.ketxe),parseFloat(item.thamhoa),parseFloat(item.ngaplut),parseFloat(item.thicong),parseFloat(item.nhieuoto),parseFloat(item.id),parseFloat(item.cim))
											});
										});
									}
								function markerShowUpGt(lat_val,lon_val,speed,icon_image,loaixe,id,time) 
									{
										var chieuchay = "chieuchay"+id;

										time = timeConverter(time);
										speed = speed+" km/h";
										var loaipt;
										if(loaixe == 0)
										{
											loaipt = "Xe mô tô";
										}
										else if(loaixe == 1)
										{
											loaipt = "Xe ô tô";
										}
													
										var infowindow = new google.maps.InfoWindow;
										var myLatLng_set = {lat: lat_val, lng: lon_val};
										
										var markerImage = {
											url: icon_image, // url
											scaledSize: new google.maps.Size((30*10)/15,(35*10)/15) // scaled size
										};
										
										var marker = new MarkerWithLabel({
											position: myLatLng_set,
											icon: markerImage,
											map: map
										});
									
										google.maps.event.addListener(map, 'zoom_changed', function() {
											
											var zoom = map.getZoom();
											
											var relativePixelSize_w = 30;
											var relativePixelSize_h = 35;
											if ( zoom == 16 )
											{
												relativePixelSize_w = (30*10)/15;
												relativePixelSize_h = (35*10)/15;
												
											}
											else if ( zoom == 15 )
											{
												relativePixelSize_w = (30*10)/15;
												relativePixelSize_h = (35*10)/15;
												
											}
											else if ( zoom <= 14 )
											{
												relativePixelSize_w = (30*10)/20;
												relativePixelSize_h = (35*10)/20;
												
											}
											//change the size of the icon
											marker.setIcon(
												new google.maps.MarkerImage(
													marker.getIcon().url, //marker's same icon graphic
													null,//size
													null,//origin
													null, //anchor
													new google.maps.Size(relativePixelSize_w, relativePixelSize_h) //changes the scale
												)
											); 
											
											
											$('#kqtcgt').html(zoom);
										});
										
										var id_yc = 1;
										marker.addListener('click', function() {
											infowindow.setContent("Loại phương tiện: "+loaipt+"</br>Thời gian: "+time+"</br>Khả năng lưu thông: "+speed+"</br>"+chieuchay+" ");
											infowindow.open(map, marker);
										});
										
										markers_htgt.push(marker);
									}
								
								function thydinhmM(id_grp_rv) {
									$("#idgtdiv").css("display", "none");
									offtnw_2();
									menu_display();
									
									document.getElementById('nhom_get_tv').value = id_grp_rv;
									
									myTimer();
									deleteMarkers();
									
									$.ajax({
										type: 'get',
										url: 'ltnnm.php?id_grp_rv='+id_grp_rv,
										data: '',
										beforeSend: function(){
										},
										success: function(response){
											$('#httngrp').html(response);				
										}
									});
									
									$.ajax({
										type: 'get',
										url: 'gcdnhm.php?id_grp_rv='+id_grp_rv,
										data: '',
										beforeSend: function(){
										},
										success: function(response){
											response = response.replace(/\s/g, "");
											document.getElementById('chedo_get').value = response;			
										}
									});
									
									$('#bodytop').scrollTop(0);
									
									var id_group = document.getElementById("nhom_get_tv").value;
									
									$.ajax({
										type: 'get',
										url: 'kthtlttcn.php?id_group='+id_group,
										data: '',
										beforeSend: function(){
										},
										success: function(response){
											
											if(response==0)			
											{
												$('#kqldtdide_2').html(response);
												directionsDisplay.setMap(null);	
											}
											else if(response==1)			
											{
												$('#kqldtdide_2').html(response);
												directionsDisplay.setMap(map);	
												calculateAndDisplayRoute(directionsService, directionsDisplay);
												
												var id_group = document.getElementById("nhom_get_tv").value;
												var url="laytbtdlt.php?id_group="+id_group;
												
												$.getJSON(url,function(json){
													$.each(json.posts,function(i,item){
														
														markerShowUpLte(parseFloat(item.lat),parseFloat(item.lon),item.noidung,parseFloat(item.time),parseFloat(item.thutult))
														
													});
												});
											}
										}
									});
									
									optplmr_k();
									
								}
								function optplmr_k()
								{
									var id_group = document.getElementById("nhom_get_tv").value;
									$.ajax({
										type: 'get',
										url: 'kitridctn.php?id_group='+id_group,
										data: '',
										beforeSend: function(){
											
										},
										success: function(response){
											if(response==0)
											{
												tmrkc = 0;
											}
										}
									});
								}
								function optplmr_m()
								{
									var id_group = document.getElementById("nhom_get_tv").value;
									$.ajax({
										type: 'get',
										url: 'kitridctn.php?id_group='+id_group,
										data: '',
										beforeSend: function(){
											
										},
										success: function(response){
											if(response==0)
											{
												tmrkc = 1;
											}
										}
									});
								}
								function truycapnhom(idn) 
								{						
									offtnw_3_tnpt();
									offtnw_2();
									clearInterval(myVar);
									myVar = setInterval(function(){ 
										udtn()
									}, 1000);
								
									
									infoWindow_sanqua.close();
									clearInterval(Aoevtsq); // dung tu dong sq	
									mode_sq = 1;	
									$("#dropdown_id").css("display","block");	
									$("#updttn").css("display","block");	
									myTimer();
									deleteMarkers();	
									
									
									if ( dem_Aoevtsq_1 == 0 )
									{				
										infoWindow_sanqua.close();
										clearInterval(cnmr);
										cnmr = setInterval(function(){  // tu dong cap nhat nhom phuong 
											myTimer(),
											deleteMarkers()
											
										}, 5000);
										
									}
									else if ( dem_Aoevtsq_1 == 1 )
									{
										dem_Aoevtsq_1 = 0;
										
										$('#cdtdbt').html('<img style="width: 38px;height: 27px;margin: 10px;margin-left: 0px;margin-right: 0px;" src="https://www.coorin.com/bcoon/images/binhthuong.png" title="Tạm dừng chế độ cập nhật" />');
				
										infoWindow_sanqua.close();
										clearInterval(cnmr);
										cnmr = setInterval(function(){  // tu dong cap nhat nhom phuong tien											
											myTimer(),
											deleteMarkers()
										}, 5000);
									}
									
									
									
									document.getElementById('nhom_get_tv').value = idn ;
									
									$("#infoWindow_caidatnhom_id").css("display", "none");
									$("#map").css("display", "block");
									clearInterval(udmyo);
									$("#idgtdiv").css("display", "none");
									var id_group = document.getElementById("nhom_get_tv").value;
									
									$.ajax({
										type: 'get',
										url: 'ltnnm.php?id_grp_rv='+id_group,
										data: '',
										beforeSend: function(){
										},
										success: function(response){
														
											$('#tennhomdl_id').html(response);				
										}
									});
									
									$('#bodytop').scrollTop(0);
																
									
									$.ajax({
										type: 'get',
										url: 'kthtlttcn.php?id_group='+id_group,
										data: '',
										beforeSend: function(){
										},
										success: function(response){
											$('#kqldtdide_2').html(response);
											if(response==0)			
											{
												$('#kqldtdide_2').html(response);
												directionsDisplay.setMap(null);	
											}
											else if(response==1)			
											{
												$('#kqldtdide_2').html(response);
												directionsDisplay.setMap(map);	
												calculateAndDisplayRoute(directionsService, directionsDisplay);
												
												var id_group = document.getElementById("nhom_get_tv").value;
												var url="laytbtdlt.php?id_group="+id_group;
												
												$.getJSON(url,function(json){
													$.each(json.posts,function(i,item){
														
														markerShowUpLte(parseFloat(item.lat),parseFloat(item.lon),item.noidung,parseFloat(item.time),parseFloat(item.thutult))
														
													});
												});
											}
										}
									});
									optplmr_k();
									
									$.ajax({
										type: 'get',
										url: 'gtcdo.php?id_group='+id_group,
										data: '',
										beforeSend: function(){
										},
										success: function(response){
											document.getElementById('chedo_get').value = response ;	
										}
									});
									google.maps.event.clearListeners(map, 'click');
									google.maps.event.addListener(map, 'click', function(event) {
										placeMarker(event.latLng.lat()+","+event.latLng.lng());								
									});
									
									var kiemtrabiensanqua = "dem_Aoevtsq_1: "+dem_Aoevtsq_1+",mode_sq: "+mode_sq;	
								}
								function rfmp() {
									clearInterval(udmyo);
									$("#idgtdiv").css("display", "none");
									var id_group = document.getElementById("nhom_get_tv").value;
									myTimer();
									deleteMarkers();
									$.ajax({
										type: 'get',
										url: 'ltnnm.php?id_grp_rv='+id_group,
										data: '',
										beforeSend: function(){
										},
										success: function(response){
											$('#httngrp').html(response);				
										}
									});
									
									$('#bodytop').scrollTop(0);
									
									$.ajax({
										type: 'get',
										url: 'kthtlttcn.php?id_group='+id_group,
										data: '',
										beforeSend: function(){
										},
										success: function(response){
											$('#kqldtdide_2').html(response);
											if(response==0)			
											{
												$('#kqldtdide_2').html(response);
												directionsDisplay.setMap(null);	
											}
											else if(response==1)			
											{
												$('#kqldtdide_2').html(response);
												directionsDisplay.setMap(map);	
												calculateAndDisplayRoute(directionsService, directionsDisplay);
												
												var id_group = document.getElementById("nhom_get_tv").value;
												var url="laytbtdlt.php?id_group="+id_group;
												
												$.getJSON(url,function(json){
													$.each(json.posts,function(i,item){
														
														markerShowUpLte(parseFloat(item.lat),parseFloat(item.lon),item.noidung,parseFloat(item.time),parseFloat(item.thutult))
														
													});
												});
											}
										}
									});
									optplmr_k();
								}
								
								function chinhsuachiendich_function(id)
								{
									var loaiquatang = document.getElementById("loaiquatang").value;
									var sanpham = document.getElementById("sanpham").value;
									var tennguoitang = document.getElementById("tennguoitang").value;
									var diachi = document.getElementById("diachi").value;
									var toadocd = document.getElementById("toadocd").value;
									var sodienthoai = document.getElementById("sodienthoai").value;
									var hour_sq = document.getElementById("hour_sq").value;
									var minute_sq = document.getElementById("minute_sq").value;
									var day_sq = document.getElementById("day_sq").value;
									var month_sq = document.getElementById("month_sq").value;
									var year_sq = document.getElementById("year_sq").value;
									var time_display_khoang = document.getElementById("time_display_khoang").value;
									var thoigianthidau = document.getElementById("thoigianthidau").value;
									var bankinhmuctieu = document.getElementById("bankinhmuctieu").value;
									var linkchenanh = document.getElementById("linkchenanh").value;
									var thoigianthongbao = document.getElementById("thoigianthongbao").value;
									$.ajax({
										type: 'get',
										url: 'chinhsuachiendich_function.php?loaiquatang='+loaiquatang+"&sanpham="+sanpham+"&tennguoitang="+tennguoitang
													+"&diachi="+diachi+"&sodienthoai="+sodienthoai+"&hour_sq="+hour_sq+"&minute_sq="+minute_sq+"&day_sq="+day_sq
													+"&month_sq="+month_sq+"&year_sq="+year_sq+"&time_display_khoang="+time_display_khoang+"&thoigianthidau="+thoigianthidau
													+"&bankinhmuctieu="+bankinhmuctieu+"&linkchenanh="+linkchenanh+"&toadocd="+toadocd+"&id="+id+"&thoigianthongbao="+thoigianthongbao,
										data: '',
										beforeSend: function(){
										},
										success: function(response){
											$('#taochiendichnoidungsq_id').html(response);				
										}
									});
								}
								function khoitaochiendich()
								{
									var loaiquatang = document.getElementById("loaiquatang").value;
									var sanpham = document.getElementById("sanpham").value;
									var tennguoitang = document.getElementById("tennguoitang").value;
									var diachi = document.getElementById("diachi").value;
									var toadocd = document.getElementById("toadocd").value;
									var sodienthoai = document.getElementById("sodienthoai").value;
									var hour_sq = document.getElementById("hour_sq").value;
									var minute_sq = document.getElementById("minute_sq").value;
									var day_sq = document.getElementById("day_sq").value;
									var month_sq = document.getElementById("month_sq").value;
									var year_sq = document.getElementById("year_sq").value;
									var time_display_khoang = document.getElementById("time_display_khoang").value;
									var thoigianthidau = document.getElementById("thoigianthidau").value;
									var bankinhmuctieu = document.getElementById("bankinhmuctieu").value;
									var linkchenanh = document.getElementById("linkchenanh").value;
									var thoigianthongbao = document.getElementById("thoigianthongbao").value;
									
									$.ajax({
										type: 'get',
										url: 'taochiendichnoidung.php?loaiquatang='+loaiquatang+"&sanpham="+sanpham+"&tennguoitang="+tennguoitang
													+"&diachi="+diachi+"&sodienthoai="+sodienthoai+"&hour_sq="+hour_sq+"&minute_sq="+minute_sq+"&day_sq="+day_sq
													+"&month_sq="+month_sq+"&year_sq="+year_sq+"&time_display_khoang="+time_display_khoang+"&thoigianthidau="+thoigianthidau
													+"&bankinhmuctieu="+bankinhmuctieu+"&linkchenanh="+linkchenanh+"&toadocd="+toadocd+"&thoigianthongbao="+thoigianthongbao,
										data: '',
										beforeSend: function(){
										},
										success: function(response){
											$('#taochiendichnoidungsq_id').html(response);				
										}
									});
								}
								function kichhoathienthi(id)
								{
									$.ajax({
										type: 'get',
										url: 'kichhoat_chiendich.php?id='+id,
										data: '',
										beforeSend: function(){
										},
										success: function(response){
											$('#result_kichhoathienthi').html(response);				
										}
									});
								}
								function chinhsuachiendich(id)
								{
									$.ajax({
										type: 'get',
										url: 'chinhsuachiendich.php?id='+id,
										data: '',
										beforeSend: function(){
										},
										success: function(response){
											$('#taochiendichnoidungsq_id').html(response);				
										}
									});
								}
								function viewchiendich(id)
								{
									$.ajax({
										type: 'get',
										url: 'viewchiendich.php?id='+id,
										data: '',
										beforeSend: function(){
										},
										success: function(response){
											$('#taochiendichnoidungsq_id').html(response);				
										}
									});
								}
								function xoacd(id)
								{
									$.ajax({
										type: 'get',
										url: 'xoacd.php?id='+id,
										data: '',
										beforeSend: function(){
										},
										success: function(response){
											$('#taochiendichnoidungsq_id').html(response);				
										}
									});
								}
								var drop_value = 0;
								function dropup()
								{
									if (drop_value == 0)
									{
										drop_value = 1;
										$("#noidungcanhbao_id").css("display", "block");
									}
									else if (drop_value == 1)
									{
										drop_value = 0;
										$("#noidungcanhbao_id").css("display", "none");
									}
								}
								function ketxe_cb(idcb)
								{									
									// Try HTML5 geolocation.
									if (navigator.geolocation) {
										navigator.geolocation.getCurrentPosition(function(position) 
										{
											var pos = {
												lat: position.coords.latitude,
												lng: position.coords.longitude
											};
											var toado = position.coords.latitude+","+position.coords.longitude;
											var noidung = "";
											var phamvi = 5 ;
											var id_group = document.getElementById("nhom_get_tv").value;
											var id_goi = 1;
											var latlngStr = toado.split(',', 2);
											var latlng = {lat: parseFloat(latlngStr[0]), lng: parseFloat(latlngStr[1])};
																						
											var geocoder = new google.maps.Geocoder;
											geocoder.geocode({'location': latlng}, function(results, status) {
												vitri = "Không xác định được tên địa chỉ. Vui lòng sử dụng tọa độ.";
												if (results[0]) {
													vitri = results[0].formatted_address;
												}
													$.ajax({
														type: 'get',
														url: 'taoghichucanhbao.php?toado='+toado+'&vitri='+vitri+'&noidung='+noidung+'&id_group='+id_group+'&id_goi='+id_goi+'&phamvi='+phamvi+'&idcb='+idcb,
														data: '',
														beforeSend: function(){
															
														},
														success: function(response){
															$("#traketqua_cb").css("display", "block");
															$('#traketqua_cb').html(response);
															setTimeout(function() {
																$('#traketqua_cb').fadeOut('fast');
															}, 5000);
														}
													});
											});
											
										}, function() {
										});
									} else {
									}									
								}
								function ketxe_cb_map(idcb)
								{									
									var toado =  document.getElementById("toado").value;
									var noidung = "";
									var phamvi = 5 ;
									var id_group = document.getElementById("nhom_get_tv").value;
									var id_goi = 1;
									var latlngStr = toado.split(',', 2);
									var latlng = {lat: parseFloat(latlngStr[0]), lng: parseFloat(latlngStr[1])};
																				
									var geocoder = new google.maps.Geocoder;
									geocoder.geocode({'location': latlng}, function(results, status) {
										vitri = "Không xác định được tên địa chỉ. Vui lòng sử dụng tọa độ.";
										if (results[0]) {
											vitri = results[0].formatted_address;
										}
											$.ajax({
												type: 'get',
												url: 'taoghichucanhbao.php?toado='+toado+'&vitri='+vitri+'&noidung='+noidung+'&id_group='+id_group+'&id_goi='+id_goi+'&phamvi='+phamvi+'&idcb='+idcb,
												data: '',
												beforeSend: function(){
													
												},
												success: function(response){
													$('#result_note_a').html(response);
												}
											});
									});								
								}
function cdtdbt()
{ 
	
	clearInterval(Aoevtsq); // dung tu dong sq
	{
		if ( dem_Aoevtsq_1 == 0 )
		{
			dem_Aoevtsq_1 = 1;
			$('#cdtdbt').html('<img style="width: 38px;height: 27px;margin: 10px;margin-left: 0px;margin-right: 0px;" src="https://www.coorin.com/bcoon/images/tudong.png" title="Tự động cập nhật" />');
			
			if(mode_sq == 0) 
			{				
				clearInterval(Aoevtsq); // dung tu dong sq
			}
			else if(mode_sq == 1)
			{
				clearInterval(Aoevtsq); // dung tu dong sq
				infoWindow_sanqua.close();
				clearInterval(cnmr); // dung tu dong cap nhat nhom phuong tien
			}
			
		}
		else if ( dem_Aoevtsq_1 == 1 )
		{
			dem_Aoevtsq_1 = 0;
			$('#cdtdbt').html('<img style="width: 38px;height: 27px;margin: 10px;margin-left: 0px;margin-right: 0px;" src="https://www.coorin.com/bcoon/images/binhthuong.png" title="Tạm dừng chế độ cập nhật" />');
				
			if(mode_sq == 0)
			{			
				Aoevtsq = setInterval(function(){  // tu dong sq
					sanquafunction_1()
				}, 1000);
			}
			else if(mode_sq == 1)
			{
				clearInterval(Aoevtsq); // dung tu dong sq
				infoWindow_sanqua.close();
				clearInterval(cnmr);
				cnmr = setInterval(function(){  // tu dong cap nhat nhom phuong tien
					myTimer()
					deleteMarkers()
				}, 5000);
			}
			
		}
	}
	
	var kiemtrabiensanqua = "dem_Aoevtsq_1: "+dem_Aoevtsq_1+",mode_sq: "+mode_sq;
									
}

</script>
<script type="text/javascript" src="https://www.coorin.com/social/js/oauthpopup.js"></script>
<script type="text/javascript">
	$(document).ready(function(){
		//For Google	
		$('a.login').oauthpopup({
			path: 'https://www.coorin.com/social/login.php?google',
			width:650,
			height:350,
		});
		$('a.google_logout').googlelogout({
			redirect_url:'https://www.coorin.com/social/logout.php?google'
		});
		//For Facebook	
		$('#facebook').oauthpopup({
			path: 'https://www.coorin.com/social/login.php?facebook',
			width:600,
			height:300,
		});
	});
</script>							
</head>
<body style="margin-top: 0px;" onload="initMap()" id="bodytop">

	<div id="infoWindow_caidatnhom_id" class="tn_1" style="display:none;" >
		<div class="" style="position: relative;width: 100%;z-index: 4;height:0px">
			<div class="tn_2_snqa" style="margin-top: 0px;">
				<div style="float: right;margin-top: 50px;"  title="Đóng cửa sổ" >
					<div class="close_tn" onclick="offtnw_3_tnpt()" style="" > X
					</div>
				</div>
				<div style="float: right;margin-top: 50px;    margin-right: 20px;" title="Danh sách nhóm phương tiện đang quản lý" >
					<div class="close_tn" onclick="offtnw_5_nptdql()" style="background: url(https://www.coorin.com/bcoon/images/quanly.png);width: 20px;height: 20px;" >
					</div>
				</div>
				<div style="float: right;margin-top: 50px;    margin-right: 20px;" title="Danh sách nhóm phương tiện đang là thành viên" >
					<div class="close_tn" onclick="offtnw_5_nptltv()" style="background: url(https://www.coorin.com/bcoon/images/thanhvien.png);width: 20px;height: 20px;" >
					</div>
				</div>
				<div style="float: right;margin-top: 50px;    margin-right: 20px;" title="Tạo nhóm" >
					<div class="close_tn" onclick="caidatnhom()" style="background: url(https://www.coorin.com/bcoon/images/taonhombutton.png);width: 20px;height: 20px;" >
					</div>
				</div>
				<div id="taochiendichnoidung_id" style=""> 
				</div>
				<div id="nhomphuongtienlathanhvien_id" style=""> 
				</div>
				<div id="nhomphuongtienlaquanly_id" style=""> 
				</div>
			</div>	
		</div>	
	</div>
	
	<div id="infoWindow_taochiendich_id" class="tn_1" style="display:none;" >
		<div class="" style="position: relative;width: 100%;z-index: 4;height:0px">
			<div class="tn_2_snqa" style="margin-top: 0px;">
				<div style="float: right;margin-top: 50px;"  title="Đóng cửa sổ" >
					<div class="close_tn" onclick="offtnw_3_tcd()" style="" > X
					</div>
				</div>
				<div style="float: right;margin-top: 50px;" title="Danh sách chiến dịch đang quản lý" >
					<div class="close_tn" onclick="offtnw_5()" style="background: url(https://www.coorin.com/bcoon/images/menuquanly.png);width: 20px;height: 20px;" >
					</div>
				</div>
				<div id="taochiendichnoidungsq_id"> 
					<div class="dtn box1hover" style="height:auto;max-height:600px;border-radius: 8px;" > 
						<h1 class="tieudechiendich" style="background-color: #4fc1e9;background: linear-gradient(154deg, #4fc1e9 0px, rgb(0, 180, 160) 100%);
						margin: 0;padding: 10px 0px;margin-bottom: 5px;color: #fff;">Tạo chiến dịch</h1>
						<legend class="motathutu" style="" ><span class="numberchiendich" style="" >1</span>Loại quà tặng</legend>
							<select class="motaloaiquatang" style="" id="loaiquatang" name="loaiquatang">
							  <optgroup style="" label="Miễn phí">
								<option style="" value="0">Tặng 100% giá sản phẩm/dịch vụ</option>
							  </optgroup>
							  <optgroup style="" label="Khuyến mãi">
								<option style="" value="1">Giảm 90% </option>
								<option style="" value="2">Giảm 80% </option>
								<option style="" value="3">Giảm 70% </option>
								<option style="" value="4">Giảm 60% </option>
								<option style="" value="5">Giảm 50% </option>
								<option style="" value="6">Giảm 40% </option>
								<option style="" value="7">Giảm 30% </option>
								<option style="" value="8">Giảm 20% </option>
								<option style="" value="9">Giảm 10% </option>
								<option style="" value="10">Giảm 5% </option>
							  </optgroup>
							</select>
						<legend class="motathutu" style=""><span class="numberchiendich" style="" >2</span>Sản phẩm</legend>
						<input class="motachiendich_input" style="" type="text" id="sanpham" name="sanpham">
						<legend class="motathutu" style=""><span style="" class="numberchiendich">3</span>Tên cửa hàng</legend>
						<input class="motachiendich_input" type="text" id="tennguoitang" name="tennguoitang">
						<legend class="motathutu" style=""><span style="" class="numberchiendich">4</span>Địa chỉ</legend>
						<input class="motachiendich_input" type="text" id="diachi" name="diachi">
						<legend class="motathutu" style=""><span style="" class="numberchiendich">5</span>Tọa độ
							<div style="font-size: 13px;margin-left: 37px;" class="">Là vị trí chính xác phần quà sẽ xuất hiện trên bản đồ khi khách hàng đến khu vực đó. Bằng cách click
							một vị trí trên bản đồ google map bạn sẽ thấy được tọa độ. Ví dụ: 
							10.860302,106.761445</div></legend>
						<input class="motachiendich_input" type="text" id="toadocd" name="toadocd">
						<legend class="motathutu" style=""><span style="" class="numberchiendich">6</span>Số điện thoại</legend>
						<input class="motachiendich_input" type="text" id="sodienthoai" name="sodienthoai">
						<legend class="motathutu" style=""><span style="" class="numberchiendich">7</span>Thời điểm hiển thị
							<div style="font-size: 13px;margin-left: 37px;" class="">Là thời điểm phần quà sẽ xuất hiện trên bản đồ</div></legend>
							
							<select id="hour_sq" name="hour_sq" class="motachiendich_input" style="width:45%;" >
															<option value="0">0 giờ</option>	
															<option value="1">1 giờ</option>	
															<option value="2">2 giờ</option>	
															<option value="3">3 giờ</option>	
															<option value="4">4 giờ</option>	
															<option value="5">5 giờ</option>	
															<option value="6">6 giờ</option>	
															<option value="7">7 giờ</option>	
															<option value="8">8 giờ</option>	
															<option value="9">9 giờ</option>	
															<option value="10" selected="selected">10 giờ</option>	
															<option value="11">11 giờ</option>	
															<option value="12">12 giờ</option>	
															<option value="13">13 giờ</option>	
															<option value="14">14 giờ</option>	
															<option value="15">15 giờ</option>	
															<option value="16">16 giờ</option>	
															<option value="17">17 giờ</option>	
															<option value="18">18 giờ</option>	
															<option value="19">19 giờ</option>	
															<option value="20">20 giờ</option>	
															<option value="21">21 giờ</option>	
															<option value="22">22 giờ</option>	
															<option value="23">23 giờ</option>	
														</select >	
							<select id="minute_sq" name="minute_sq" class="motachiendich_input" style="width:50%;"  >
																	<option value="0">0 phút</option>	
																	<option value="1">1 phút</option>	
																	<option value="2">2 phút</option>	
																	<option value="3">3 phút</option>	
																	<option value="4">4 phút</option>	
																	<option value="5">5 phút</option>	
																	<option value="6">6 phút</option>	
																	<option value="7">7 phút</option>	
																	<option value="8">8 phút</option>	
																	<option value="9">9 phút</option>	
																	<option value="10">10 phút</option>	
																	<option value="11">11 phút</option>	
																	<option value="12">12 phút</option>	
																	<option value="13">13 phút</option>	
																	<option value="14">14 phút</option>	
																	<option value="15">15 phút</option>	
																	<option value="16">16 phút</option>	
																	<option value="17">17 phút</option>	
																	<option value="18">18 phút</option>	
																	<option value="19">19 phút</option>	
																	<option value="20">20 phút</option>	
																	<option value="21">21 phút</option>	
																	<option value="22">22 phút</option>	
																	<option value="23">23 phút</option>	
																	<option value="24">24 phút</option>	
																	<option value="25">25 phút</option>	
																	<option value="26">26 phút</option>	
																	<option value="27">27 phút</option>	
																	<option value="28">28 phút</option>	
																	<option value="29">29 phút</option>	
																	<option value="30">30 phút</option>	
																	<option value="31">31 phút</option>	
																	<option value="32">32 phút</option>	
																	<option value="33">33 phút</option>	
																	<option value="34">34 phút</option>	
																	<option value="35">35 phút</option>	
																	<option value="36">36 phút</option>	
																	<option value="37">37 phút</option>	
																	<option value="38">38 phút</option>	
																	<option value="39" selected="selected">39 phút</option>	
																	<option value="40">40 phút</option>	
																	<option value="41">41 phút</option>	
																	<option value="42">42 phút</option>	
																	<option value="43">43 phút</option>	
																	<option value="44">44 phút</option>	
																	<option value="45">45 phút</option>	
																	<option value="46">46 phút</option>	
																	<option value="47">47 phút</option>	
																	<option value="48">48 phút</option>	
																	<option value="49">49 phút</option>	
																	<option value="50">50 phút</option>	
																	<option value="51">51 phút</option>	
																	<option value="52">52 phút</option>	
																	<option value="53">53 phút</option>	
																	<option value="54">54 phút</option>	
																	<option value="55">55 phút</option>	
																	<option value="56">56 phút</option>	
																	<option value="57">57 phút</option>	
																	<option value="58">58 phút</option>	
																	<option value="59">59 phút</option>	
															</select></br>
							<select id="day_sq"  name="day_sq" class="motachiendich_input" style="width:30%;"  >
																	<option value="1">N.1</option>	
																	<option value="2">N.2</option>	
																	<option value="3">N.3</option>	
																	<option value="4">N.4</option>	
																	<option value="5">N.5</option>	
																	<option value="6">N.6</option>	
																	<option value="7">N.7</option>	
																	<option value="8">N.8</option>	
																	<option value="9">N.9</option>	
																	<option value="10">N.10</option>	
																	<option value="11">N.11</option>	
																	<option value="12">N.12</option>	
																	<option value="13">N.13</option>	
																	<option value="14">N.14</option>	
																	<option value="15">N.15</option>	
																	<option value="16">N.16</option>	
																	<option value="17">N.17</option>	
																	<option value="18">N.18</option>	
																	<option value="19">N.19</option>	
																	<option value="20">N.20</option>	
																	<option value="21">N.21</option>	
																	<option value="22">N.22</option>	
																	<option value="23">N.23</option>	
																	<option value="24">N.24</option>	
																	<option value="25" selected="selected">N.25</option>	
																	<option value="26">N.26</option>	
																	<option value="27">N.27</option>	
																	<option value="28">N.28</option>	
																	<option value="29">N.29</option>	
																	<option value="30">N.30</option>	
																	<option value="31">N.31</option>	
															</select>
							<select id="month_sq"  name="month_sq" class="motachiendich_input" style="width:33%;"  >
																	<option value="1">T.1</option>	
																	<option value="2">T.2</option>	
																	<option value="3">T.3</option>	
																	<option value="4">T.4</option>	
																	<option value="5">T.5</option>	
																	<option value="6">T.6</option>	
																	<option value="7">T.7</option>	
																	<option value="8">T.8</option>	
																	<option value="9">T.9</option>	
																	<option value="10">T.10</option>	
																	<option value="11" selected="selected">T.11</option>	
																	<option value="12">T.12</option>	
															</select>
							<select id="year_sq"  name="year_sq" class="motachiendich_input" style="width:32%;"  >
																	<option value="2016">2016</option>	
																	<option value="2017" selected="selected">2017</option>	
																	<option value="2018">2018</option>	
																	<option value="2019">2019</option>	
																	<option value="2020">2020</option>	
																	<option value="2021">2021</option>	
																	<option value="2022">2022</option>	
																	<option value="2023">2023</option>	
																	<option value="2024">2024</option>	
																	<option value="2025">2025</option>	
																	<option value="2026">2026</option>	
																	<option value="2027">2027</option>	
																	<option value="2028">2028</option>	
																	<option value="2029">2029</option>	
																	<option value="2030">2030</option>	
																	<option value="2031">2031</option>	
																	<option value="2032">2032</option>	
																	<option value="2033">2033</option>	
																	<option value="2034">2034</option>	
																	<option value="2035">2035</option>	
																	<option value="2036">2036</option>	
																	<option value="2037">2037</option>	
																	<option value="2038">2038</option>	
																	<option value="2039">2039</option>	
																	<option value="2040">2040</option>	
																	<option value="2041">2041</option>	
																	<option value="2042">2042</option>	
																	<option value="2043">2043</option>	
																	<option value="2044">2044</option>	
																	<option value="2045">2045</option>	
																	<option value="2046">2046</option>	
																	<option value="2047">2047</option>	
																	<option value="2048">2048</option>	
																	<option value="2049">2049</option>	
																	<option value="2050">2050</option>	
																	<option value="2051">2051</option>	
																	<option value="2052">2052</option>	
																	<option value="2053">2053</option>	
																	<option value="2054">2054</option>	
																	<option value="2055">2055</option>	
																	<option value="2056">2056</option>	
																	<option value="2057">2057</option>	
																	<option value="2058">2058</option>	
																	<option value="2059">2059</option>	
																	<option value="2060">2060</option>	
																	<option value="2061">2061</option>	
																	<option value="2062">2062</option>	
																	<option value="2063">2063</option>	
																	<option value="2064">2064</option>	
																	<option value="2065">2065</option>	
																	<option value="2066">2066</option>	
																	<option value="2067">2067</option>	
																	<option value="2068">2068</option>	
																	<option value="2069">2069</option>	
																	<option value="2070">2070</option>	
																	<option value="2071">2071</option>	
																	<option value="2072">2072</option>	
																	<option value="2073">2073</option>	
																	<option value="2074">2074</option>	
																	<option value="2075">2075</option>	
																	<option value="2076">2076</option>	
																	<option value="2077">2077</option>	
																	<option value="2078">2078</option>	
																	<option value="2079">2079</option>	
																	<option value="2080">2080</option>	
																	<option value="2081">2081</option>	
																	<option value="2082">2082</option>	
																	<option value="2083">2083</option>	
																	<option value="2084">2084</option>	
																	<option value="2085">2085</option>	
																	<option value="2086">2086</option>	
																	<option value="2087">2087</option>	
																	<option value="2088">2088</option>	
																	<option value="2089">2089</option>	
																	<option value="2090">2090</option>	
																	<option value="2091">2091</option>	
																	<option value="2092">2092</option>	
																	<option value="2093">2093</option>	
																	<option value="2094">2094</option>	
																	<option value="2095">2095</option>	
																	<option value="2096">2096</option>	
																	<option value="2097">2097</option>	
																	<option value="2098">2098</option>	
																	<option value="2099">2099</option>	
																	<option value="2100">2100</option>	
																	<option value="2101">2101</option>	
																	<option value="2102">2102</option>	
																	<option value="2103">2103</option>	
																	<option value="2104">2104</option>	
																	<option value="2105">2105</option>	
																	<option value="2106">2106</option>	
																	<option value="2107">2107</option>	
																	<option value="2108">2108</option>	
																	<option value="2109">2109</option>	
																	<option value="2110">2110</option>	
																	<option value="2111">2111</option>	
																	<option value="2112">2112</option>	
																	<option value="2113">2113</option>	
																	<option value="2114">2114</option>	
																	<option value="2115">2115</option>	
																	<option value="2116">2116</option>	
																	<option value="2117">2117</option>	
																	<option value="2118">2118</option>	
																	<option value="2119">2119</option>	
																	<option value="2120">2120</option>	
																	<option value="2121">2121</option>	
																	<option value="2122">2122</option>	
																	<option value="2123">2123</option>	
																	<option value="2124">2124</option>	
																	<option value="2125">2125</option>	
																	<option value="2126">2126</option>	
																	<option value="2127">2127</option>	
																	<option value="2128">2128</option>	
																	<option value="2129">2129</option>	
																	<option value="2130">2130</option>	
																	<option value="2131">2131</option>	
																	<option value="2132">2132</option>	
																	<option value="2133">2133</option>	
																	<option value="2134">2134</option>	
																	<option value="2135">2135</option>	
																	<option value="2136">2136</option>	
																	<option value="2137">2137</option>	
																	<option value="2138">2138</option>	
																	<option value="2139">2139</option>	
																	<option value="2140">2140</option>	
																	<option value="2141">2141</option>	
																	<option value="2142">2142</option>	
																	<option value="2143">2143</option>	
																	<option value="2144">2144</option>	
																	<option value="2145">2145</option>	
																	<option value="2146">2146</option>	
																	<option value="2147">2147</option>	
																	<option value="2148">2148</option>	
																	<option value="2149">2149</option>	
																	<option value="2150">2150</option>	
																	<option value="2151">2151</option>	
																	<option value="2152">2152</option>	
																	<option value="2153">2153</option>	
																	<option value="2154">2154</option>	
																	<option value="2155">2155</option>	
																	<option value="2156">2156</option>	
																	<option value="2157">2157</option>	
																	<option value="2158">2158</option>	
																	<option value="2159">2159</option>	
																	<option value="2160">2160</option>	
																	<option value="2161">2161</option>	
																	<option value="2162">2162</option>	
																	<option value="2163">2163</option>	
																	<option value="2164">2164</option>	
																	<option value="2165">2165</option>	
																	<option value="2166">2166</option>	
																	<option value="2167">2167</option>	
																	<option value="2168">2168</option>	
																	<option value="2169">2169</option>	
																	<option value="2170">2170</option>	
																	<option value="2171">2171</option>	
																	<option value="2172">2172</option>	
																	<option value="2173">2173</option>	
																	<option value="2174">2174</option>	
																	<option value="2175">2175</option>	
																	<option value="2176">2176</option>	
																	<option value="2177">2177</option>	
																	<option value="2178">2178</option>	
																	<option value="2179">2179</option>	
																	<option value="2180">2180</option>	
																	<option value="2181">2181</option>	
																	<option value="2182">2182</option>	
																	<option value="2183">2183</option>	
																	<option value="2184">2184</option>	
																	<option value="2185">2185</option>	
																	<option value="2186">2186</option>	
																	<option value="2187">2187</option>	
																	<option value="2188">2188</option>	
																	<option value="2189">2189</option>	
																	<option value="2190">2190</option>	
																	<option value="2191">2191</option>	
																	<option value="2192">2192</option>	
																	<option value="2193">2193</option>	
																	<option value="2194">2194</option>	
																	<option value="2195">2195</option>	
																	<option value="2196">2196</option>	
																	<option value="2197">2197</option>	
																	<option value="2198">2198</option>	
																	<option value="2199">2199</option>	
																	<option value="2200">2200</option>	
																	<option value="2201">2201</option>	
																	<option value="2202">2202</option>	
																	<option value="2203">2203</option>	
																	<option value="2204">2204</option>	
																	<option value="2205">2205</option>	
																	<option value="2206">2206</option>	
																	<option value="2207">2207</option>	
																	<option value="2208">2208</option>	
																	<option value="2209">2209</option>	
																	<option value="2210">2210</option>	
																	<option value="2211">2211</option>	
																	<option value="2212">2212</option>	
																	<option value="2213">2213</option>	
																	<option value="2214">2214</option>	
																	<option value="2215">2215</option>	
																	<option value="2216">2216</option>	
																	<option value="2217">2217</option>	
																	<option value="2218">2218</option>	
																	<option value="2219">2219</option>	
																	<option value="2220">2220</option>	
																	<option value="2221">2221</option>	
																	<option value="2222">2222</option>	
										
							</select> 
						<legend class="motathutu" style=""><span style="" class="numberchiendich">8</span>Chọn khoảng thời gian hiển thị (giây)
							<div style="font-size: 13px;margin-left: 37px;" class="">Là khoảng thời gian xuất hiện của phần quà</div></legend>
						<input class="motachiendich_input" type="text" id="time_display_khoang" name="time_display_khoang" value="600">
						<legend class="motathutu" style=""><span style="" class="numberchiendich">9</span>Chọn thời gian thi đấu (giây)
							<div style="font-size: 13px;margin-left: 37px;" class="">Là khoảng thời gian thi đấu giữa những người chơi để nhận được phần quà</div></legend>
						<input class="motachiendich_input" type="text" id="thoigianthidau" name="thoigianthidau" value="30">
						<legend class="motathutu" style=""><span style="" class="numberchiendich">10</span>Chọn bán kính mục tiêu (mét)
							<div style="font-size: 13px;margin-left: 37px;" class="">Là khoảng cách mà chỉ những người chơi vào trong bán kính này thì phần quà mới xuất hiện</div></legend>
						<input class="motachiendich_input" type="text" id="bankinhmuctieu" name="bankinhmuctieu" value="100">
						<legend class="motathutu" style=""><span style="" class="numberchiendich">11</span>Link chèn ảnh</legend>
						<input class="motachiendich_input" type="text" id="linkchenanh" name="linkchenanh" value="https://www.coorin.com/bcoon/images/gift_chiendich.jpg">
						
						<legend class="motathutu" style=""><span style="" class="numberchiendich">12</span>Chọn khoảng thời gian hiển thị để mời khách hàng đến
							<div style="font-size: 13px;margin-left: 37px;" class="">Là khoảng thời gian người quản lý sẽ thông báo đến cho khách hàng, trong khoảng thời gian đó phần
								quà chỉ xuất hiện tại thời điểm hiển thị(7) trong khoảng thời gian hiển thị(8). Thời điểm hiển thị chỉ có người quản lý nắm rõ.
								</br>Ví dụ: </br>(12): 7h30 sáng đến 11h30 sáng ngày 31/12/2016</br>(7):9h00 sáng ngày 31/12/2016</br>(8):60</br>(9):30</div></legend>
						<input class="motachiendich_input" type="text" id="thoigianthongbao" name="thoigianthongbao" value="">
						
						<button class="submitchiendich" style="" type="submit" onclick="khoitaochiendich()" >Khởi Tạo</button>
					</div>
				</div>
			</div>	
		</div>	
	</div>
	<div id="thongtinchitietquatang" class="tn_1" style="display:none;" >
		<div class="" style="position: relative;width: 100%;z-index: 4;height:0px">
			<div class="tn_2_snqa" style="margin-top: 0px;">
				<div style="float: right;margin-top: 50px;" >
					<div class="close_tn" onclick="offtnw_6()" style="" > X
					</div>
				</div>
				<div style="float: right;margin-top: 50px;" >
					<div class="close_tn" onclick="offtnw_4()" style="background-color: #4fc1e9;" > ?
					</div>
				</div>
				<div id="thongtinchitietquatang_2"> 
				
				</div>
			</div>	
		</div>	
	</div>
	<div id="thongtinchitietquatangdnn" class="tn_1" style="display:none;" >
		<div class="" style="position: relative;width: 100%;z-index: 4;height:0px">
			<div class="tn_2_snqa" style="margin-top: 0px;">
				<div style="float: right;margin-top: 50px;" >
					<div class="close_tn" onclick="offtnw_6_qtdnn()" style="" > X
					</div>
				</div>
				<div id="thongtinchitietquatangdnn_2"> 
					
				</div>
			</div>	
		</div>	
	</div>

	<div id="xoa_window" class="tn_1" style="" >
		<div class="" style="position: relative;width: 100%;z-index: 3;height: 0px;">
			<div class="tn_2_xgr" style="width: 200px;margin: auto;">
				<div style="height: 21px;    float: right;margin-top: 50px;" >
					<div style="">
					</div>
					<div class="close_tn" onclick="offtnw_2()" style="border-radius:5px;" title="Đóng" > X
					</div>
				</div>
				<div class="dtn_xgr" id="" style="width: 100%;height: 150px;"> 
					<div id="kqskx" style="text-align: center;margin: 15px;" class="">Bạn có chắc chắn rằng muốn xóa nhóm này ? </div>
					<div class="xgr_button" style="" id=""  onclick="coxgr()" >
						Có
					</div>
					<input name ="id_grcx" id="id_grcx" class="input_qltm" style="" type="hidden" class="text" value="" />																		
				</div>
			</div>	
		</div>	
	</div>
	<div id="adm_window" class="tn_1" style="position: relative;" >
		<div class="" style="position: relative;width: 100%;z-index: 4;height:0">
			<div class="tn_2_xgr" style="height: 0;">
								
					
				<div class="dtn_xgr_2" style="" id=""> 
					<div class="close_tn" onclick="offtnw_2()" style="margin-top: 50px;" title="Đóng" > X </div>
				
					<input onkeyup="tracuu_m()" placeholder="Nhập ID thiết bị cần tìm" name ="tenid_m" id="tenid_m" class="input_qltm" style="margin: 0px;" type="text" class="text" value="" />													
					
					<div style="font-family: 'Helvetica Neue',Helvetica,Arial,sans-serif;letter-spacing: 0.5px;background-color: #fff;" class="" id="id_gradm"></div>
				</div>
			</div>	
		</div>	
	</div>
	<div id="tinnhan_window" class="" style="display: none;position: relative;height: 0;float: right;margin-top: 50px;width: 100%;" >
		<div class="" style="position: relative;width: 100%;z-index: 4;height: 0;">
			<div class="tn_2_xgr" style="height: 0;" id="kqntvk" >
				
			</div>	
		</div>
	</div>
	<div id="tinnhan_window_3" class="tn_1" style="position: ;" >
		<div class="" style="position: relative;width: 100%;z-index: 4;height:0px">
			<div class="tn_2_tinnhan" style="">
				<div style="height: 21px;float:right;margin-top:50px;" >
					<div style="">
					</div>
					<div class="close_tn" onclick="offtnw()" style="" > X
					</div>
				</div>
				<div class="dtn" style="" id="kqtltnn"> 
				</div>
				<div style=" height: 23%;">
					<textarea onkeypress="EnterPress();" id="tnrep" class="textarea_tn" style="" placeholder='Nhập nội dung tin nhắn tại đây' ></textarea>
					<div class="button_goi" style="" id=""  onclick="gtnrep()" >
						Gởi
					</div>
				</div>
			</div>	
		</div>	
	</div>
	<div id="tinnhan_window_2" onclick="offtnw_2()" style="background: rgba(0, 0, 0, 0.8);width: 100%;height: 100%;z-index: 3;position: fixed;display:none;" >
	</div>
	<style>
.icon_op_info_nhm {
	background-image: url("images/icon_nhom.png");
    float: right;
    background-size: 26px 26px;
    width: 26px;
    height: 26px;
	cursor: pointer;
}
.icon_op_info_nhm:hover {
	background-image: url("images/icon_nhom_hover.png");
}
</style>
<div class="header" style="">
	<div class="nav_1" style="position: fixed;
    z-index: 100;">
		<ul class="ul_1" style="">
			<li class="li_1" style="position: fixed;" onclick="menu_display()">
				<a class="logo_style" style="cursor:pointer;" title="Vào menu chính">BCOON</a>
			</li>
			<li class="auto_menu_1 li_2" id="" style="    position: fixed;
    left: 90px;"  >				
				<div class="inputSubmitForm" id="cdtdbt" onclick="cdtdbt()" >
					<img style="width: 38px;height: 27px;margin: 10px;margin-left: 0px;
					margin-right: 0px;" src="https://www.coorin.com/bcoon/images/binhthuong.png" title="Tạm dừng chế độ cập nhật" />
										
									</div>
			</li>
			<li class="auto_menu_1 li_2" id="" style="position: fixed;
    left: 130px;"  >
				<div class="inputSubmitForm" id="" onclick="htndqdn()" >
					<img style="width: 38px;height: 27px;margin: 10px ;    margin-left: 0px;
    margin-right: 0px;" src="https://www.coorin.com/bcoon/images/danhsachqua.png" title="Hiển thị danh sách quà tặng" />
				</div>
			</li>
			<!--
			<li id="group_menu" class="auto_menu_1" style="float:right;padding:10px" onclick="rfmp()" >
				<div class="icon_op_info_nhm" style=""></div>
				<div class="tieude_co_1_kieu_2" id="httngrp" >
									</div>
			</li>
			-->
		</ul>
	</div>
</div>	<div style="height:2px;background-color:#e7e7e7;"></div>
	
	<input name="nhom_get_tv" id="nhom_get_tv" class="input_qltm" style="" type="hidden" class="text" value="" />
	<input name="chedo_get" id="chedo_get" class="input_qltm" style="" type="hidden" class="text" value="" />
	<input name="alttd" id="alttd" class="input_qltm" style="" type="hidden" class="text" value="" />
	
	<div id="updttn" class="" style="overflow: auto;max-width: 200px;width:200px;z-index: 1;background-color: #fff;position: absolute;right: 0px;
	border: 1px solid #f7f7f7;margin-top: 47px;
		height:228px;resize: both;border-radius: 3px;box-shadow: 0 1px 7px 2px rgba(135,158,171,.2);border-bottom: 5px solid #00bca4;display:none;">
		<div class="updttn_div_2" style="font: bold 12px/14px Arial, Helvetica, sans-serif;">
			<div class="tieude_co_1" id="tennhomdl_id" style="overflow: hidden;width: 150px;height: 14px;"  ></div>
			<div class="updttn_div_x" style="" onclick="ancstn()"  title="Tắt/mở cập nhật tin nhắn" ></div>
		</div>
		<div id="tinnhanmoi">
		</div>
	</div>
	
	<div id="idgtdiv" class="" style="overflow: auto;max-width: 300px;width:300px;z-index: 1;background-color: #fff;position: absolute;left: 120px;border: 1px solid #f7f7f7;
		height: 410px ;resize: both;display:none;border-radius: 3px;box-shadow: 0 1px 7px 2px rgba(135,158,171,.2);border-bottom: 5px solid #00bca4;" >
		<div class="updttn_div_2" style="" >
			<div class="tieude_co_1" id="optnttcd" >Tra cứu giao thông</div>
			<div class="updttn_div_x" style="" onclick="anttgt()"  title="Thu gọn hộp thoại" >
				
			</div>
		</div>
		<div id="chdotcgt" style="display:block;">
			<div class="setting-two" style="border-top: 0px solid #eee; padding-bottom:0px"  >
				<h5 class="tieude_input_1" style="color: #555a60;font-size: 12px;" >Chọn vị trí khảo sát:</h5>
				<input placeholder="Nhập vị trí" name ="get_coor_value_A" id="get_coor_value_A" class="input_100" type="text" class="text" value="" >
			</div>
			<div class="setting-two" style="border-top: 0px solid #eee; padding-top:0px;padding-bottom: 5px; "  >
				<h5 class="tieude_input_1" style="color: #555a60;font-size: 12px;" >Bán kính khảo sát(km):</h5>
				<input placeholder="Nhập bán kính(km)" name ="bankinhbaove_value" id="bankinhbaove_value" class="input_100"  type="text" class="text" value="1" >	
				<select id="loaixe" name="loaixe" class="input_100" style="margin-top:5px; ">
					<option value="111" >Tất cả phương tiện</option>
					<option value="0"  >Môtô</option>
					<option value="1"  >Ôtô</option>
				</select></br>
				<div style="width:100%;"><input style="float:left;width:34px;" class="input_100" type="checkbox" name="locthoigian" id="locthoigian" value="">
					<div class="tieude_input_1" style="color: #555a60;font-size: 12px;padding-left: 44px;padding-top: 12px;" >Lọc thời gian</div>
				</div></br>
				<select id="hour" name="hour" class="input_50" >
											<option value="0">0 giờ</option>	
											<option value="1">1 giờ</option>	
											<option value="2">2 giờ</option>	
											<option value="3">3 giờ</option>	
											<option value="4">4 giờ</option>	
											<option value="5">5 giờ</option>	
											<option value="6">6 giờ</option>	
											<option value="7">7 giờ</option>	
											<option value="8">8 giờ</option>	
											<option value="9">9 giờ</option>	
											<option value="10" selected="selected">10 giờ</option>	
											<option value="11">11 giờ</option>	
											<option value="12">12 giờ</option>	
											<option value="13">13 giờ</option>	
											<option value="14">14 giờ</option>	
											<option value="15">15 giờ</option>	
											<option value="16">16 giờ</option>	
											<option value="17">17 giờ</option>	
											<option value="18">18 giờ</option>	
											<option value="19">19 giờ</option>	
											<option value="20">20 giờ</option>	
											<option value="21">21 giờ</option>	
											<option value="22">22 giờ</option>	
											<option value="23">23 giờ</option>	
									</select >	
				<select id="minute" name="minute" class="input_50" style="width: 48%;" >
											<option value="0">0 phút</option>	
											<option value="1">1 phút</option>	
											<option value="2">2 phút</option>	
											<option value="3">3 phút</option>	
											<option value="4">4 phút</option>	
											<option value="5">5 phút</option>	
											<option value="6">6 phút</option>	
											<option value="7">7 phút</option>	
											<option value="8">8 phút</option>	
											<option value="9">9 phút</option>	
											<option value="10">10 phút</option>	
											<option value="11">11 phút</option>	
											<option value="12">12 phút</option>	
											<option value="13">13 phút</option>	
											<option value="14">14 phút</option>	
											<option value="15">15 phút</option>	
											<option value="16">16 phút</option>	
											<option value="17">17 phút</option>	
											<option value="18">18 phút</option>	
											<option value="19">19 phút</option>	
											<option value="20">20 phút</option>	
											<option value="21">21 phút</option>	
											<option value="22">22 phút</option>	
											<option value="23">23 phút</option>	
											<option value="24">24 phút</option>	
											<option value="25">25 phút</option>	
											<option value="26">26 phút</option>	
											<option value="27">27 phút</option>	
											<option value="28">28 phút</option>	
											<option value="29">29 phút</option>	
											<option value="30">30 phút</option>	
											<option value="31">31 phút</option>	
											<option value="32">32 phút</option>	
											<option value="33">33 phút</option>	
											<option value="34">34 phút</option>	
											<option value="35">35 phút</option>	
											<option value="36">36 phút</option>	
											<option value="37">37 phút</option>	
											<option value="38">38 phút</option>	
											<option value="39" selected="selected">39 phút</option>	
											<option value="40">40 phút</option>	
											<option value="41">41 phút</option>	
											<option value="42">42 phút</option>	
											<option value="43">43 phút</option>	
											<option value="44">44 phút</option>	
											<option value="45">45 phút</option>	
											<option value="46">46 phút</option>	
											<option value="47">47 phút</option>	
											<option value="48">48 phút</option>	
											<option value="49">49 phút</option>	
											<option value="50">50 phút</option>	
											<option value="51">51 phút</option>	
											<option value="52">52 phút</option>	
											<option value="53">53 phút</option>	
											<option value="54">54 phút</option>	
											<option value="55">55 phút</option>	
											<option value="56">56 phút</option>	
											<option value="57">57 phút</option>	
											<option value="58">58 phút</option>	
											<option value="59">59 phút</option>	
									</select></br>
				<select id="day"  name="day" class="input_33" >
											<option value="1">N.1</option>	
											<option value="2">N.2</option>	
											<option value="3">N.3</option>	
											<option value="4">N.4</option>	
											<option value="5">N.5</option>	
											<option value="6">N.6</option>	
											<option value="7">N.7</option>	
											<option value="8">N.8</option>	
											<option value="9">N.9</option>	
											<option value="10">N.10</option>	
											<option value="11">N.11</option>	
											<option value="12">N.12</option>	
											<option value="13">N.13</option>	
											<option value="14">N.14</option>	
											<option value="15">N.15</option>	
											<option value="16">N.16</option>	
											<option value="17">N.17</option>	
											<option value="18">N.18</option>	
											<option value="19">N.19</option>	
											<option value="20">N.20</option>	
											<option value="21">N.21</option>	
											<option value="22">N.22</option>	
											<option value="23">N.23</option>	
											<option value="24">N.24</option>	
											<option value="25" selected="selected">N.25</option>	
											<option value="26">N.26</option>	
											<option value="27">N.27</option>	
											<option value="28">N.28</option>	
											<option value="29">N.29</option>	
											<option value="30">N.30</option>	
											<option value="31">N.31</option>	
									</select>
				<select id="month"  name="month" class="input_33" >
											<option value="1">T.1</option>	
											<option value="2">T.2</option>	
											<option value="3">T.3</option>	
											<option value="4">T.4</option>	
											<option value="5">T.5</option>	
											<option value="6">T.6</option>	
											<option value="7">T.7</option>	
											<option value="8">T.8</option>	
											<option value="9">T.9</option>	
											<option value="10">T.10</option>	
											<option value="11" selected="selected">T.11</option>	
											<option value="12">T.12</option>	
									</select>
				<select id="year"  name="year" class="input_33" style="width: 31%;" >
											<option value="2016">2016</option>	
											<option value="2017" selected="selected">2017</option>	
											<option value="2018">2018</option>	
											<option value="2019">2019</option>	
											<option value="2020">2020</option>	
											<option value="2021">2021</option>	
											<option value="2022">2022</option>	
											<option value="2023">2023</option>	
											<option value="2024">2024</option>	
											<option value="2025">2025</option>	
											<option value="2026">2026</option>	
											<option value="2027">2027</option>	
											<option value="2028">2028</option>	
											<option value="2029">2029</option>	
											<option value="2030">2030</option>	
											<option value="2031">2031</option>	
											<option value="2032">2032</option>	
											<option value="2033">2033</option>	
											<option value="2034">2034</option>	
											<option value="2035">2035</option>	
											<option value="2036">2036</option>	
											<option value="2037">2037</option>	
											<option value="2038">2038</option>	
											<option value="2039">2039</option>	
											<option value="2040">2040</option>	
											<option value="2041">2041</option>	
											<option value="2042">2042</option>	
											<option value="2043">2043</option>	
											<option value="2044">2044</option>	
											<option value="2045">2045</option>	
											<option value="2046">2046</option>	
											<option value="2047">2047</option>	
											<option value="2048">2048</option>	
											<option value="2049">2049</option>	
											<option value="2050">2050</option>	
											<option value="2051">2051</option>	
											<option value="2052">2052</option>	
											<option value="2053">2053</option>	
											<option value="2054">2054</option>	
											<option value="2055">2055</option>	
											<option value="2056">2056</option>	
											<option value="2057">2057</option>	
											<option value="2058">2058</option>	
											<option value="2059">2059</option>	
											<option value="2060">2060</option>	
											<option value="2061">2061</option>	
											<option value="2062">2062</option>	
											<option value="2063">2063</option>	
											<option value="2064">2064</option>	
											<option value="2065">2065</option>	
											<option value="2066">2066</option>	
											<option value="2067">2067</option>	
											<option value="2068">2068</option>	
											<option value="2069">2069</option>	
											<option value="2070">2070</option>	
											<option value="2071">2071</option>	
											<option value="2072">2072</option>	
											<option value="2073">2073</option>	
											<option value="2074">2074</option>	
											<option value="2075">2075</option>	
											<option value="2076">2076</option>	
											<option value="2077">2077</option>	
											<option value="2078">2078</option>	
											<option value="2079">2079</option>	
											<option value="2080">2080</option>	
											<option value="2081">2081</option>	
											<option value="2082">2082</option>	
											<option value="2083">2083</option>	
											<option value="2084">2084</option>	
											<option value="2085">2085</option>	
											<option value="2086">2086</option>	
											<option value="2087">2087</option>	
											<option value="2088">2088</option>	
											<option value="2089">2089</option>	
											<option value="2090">2090</option>	
											<option value="2091">2091</option>	
											<option value="2092">2092</option>	
											<option value="2093">2093</option>	
											<option value="2094">2094</option>	
											<option value="2095">2095</option>	
											<option value="2096">2096</option>	
											<option value="2097">2097</option>	
											<option value="2098">2098</option>	
											<option value="2099">2099</option>	
											<option value="2100">2100</option>	
											<option value="2101">2101</option>	
											<option value="2102">2102</option>	
											<option value="2103">2103</option>	
											<option value="2104">2104</option>	
											<option value="2105">2105</option>	
											<option value="2106">2106</option>	
											<option value="2107">2107</option>	
											<option value="2108">2108</option>	
											<option value="2109">2109</option>	
											<option value="2110">2110</option>	
											<option value="2111">2111</option>	
											<option value="2112">2112</option>	
											<option value="2113">2113</option>	
											<option value="2114">2114</option>	
											<option value="2115">2115</option>	
											<option value="2116">2116</option>	
											<option value="2117">2117</option>	
											<option value="2118">2118</option>	
											<option value="2119">2119</option>	
											<option value="2120">2120</option>	
											<option value="2121">2121</option>	
											<option value="2122">2122</option>	
											<option value="2123">2123</option>	
											<option value="2124">2124</option>	
											<option value="2125">2125</option>	
											<option value="2126">2126</option>	
											<option value="2127">2127</option>	
											<option value="2128">2128</option>	
											<option value="2129">2129</option>	
											<option value="2130">2130</option>	
											<option value="2131">2131</option>	
											<option value="2132">2132</option>	
											<option value="2133">2133</option>	
											<option value="2134">2134</option>	
											<option value="2135">2135</option>	
											<option value="2136">2136</option>	
											<option value="2137">2137</option>	
											<option value="2138">2138</option>	
											<option value="2139">2139</option>	
											<option value="2140">2140</option>	
											<option value="2141">2141</option>	
											<option value="2142">2142</option>	
											<option value="2143">2143</option>	
											<option value="2144">2144</option>	
											<option value="2145">2145</option>	
											<option value="2146">2146</option>	
											<option value="2147">2147</option>	
											<option value="2148">2148</option>	
											<option value="2149">2149</option>	
											<option value="2150">2150</option>	
											<option value="2151">2151</option>	
											<option value="2152">2152</option>	
											<option value="2153">2153</option>	
											<option value="2154">2154</option>	
											<option value="2155">2155</option>	
											<option value="2156">2156</option>	
											<option value="2157">2157</option>	
											<option value="2158">2158</option>	
											<option value="2159">2159</option>	
											<option value="2160">2160</option>	
											<option value="2161">2161</option>	
											<option value="2162">2162</option>	
											<option value="2163">2163</option>	
											<option value="2164">2164</option>	
											<option value="2165">2165</option>	
											<option value="2166">2166</option>	
											<option value="2167">2167</option>	
											<option value="2168">2168</option>	
											<option value="2169">2169</option>	
											<option value="2170">2170</option>	
											<option value="2171">2171</option>	
											<option value="2172">2172</option>	
											<option value="2173">2173</option>	
											<option value="2174">2174</option>	
											<option value="2175">2175</option>	
											<option value="2176">2176</option>	
											<option value="2177">2177</option>	
											<option value="2178">2178</option>	
											<option value="2179">2179</option>	
											<option value="2180">2180</option>	
											<option value="2181">2181</option>	
											<option value="2182">2182</option>	
											<option value="2183">2183</option>	
											<option value="2184">2184</option>	
											<option value="2185">2185</option>	
											<option value="2186">2186</option>	
											<option value="2187">2187</option>	
											<option value="2188">2188</option>	
											<option value="2189">2189</option>	
											<option value="2190">2190</option>	
											<option value="2191">2191</option>	
											<option value="2192">2192</option>	
											<option value="2193">2193</option>	
											<option value="2194">2194</option>	
											<option value="2195">2195</option>	
											<option value="2196">2196</option>	
											<option value="2197">2197</option>	
											<option value="2198">2198</option>	
											<option value="2199">2199</option>	
											<option value="2200">2200</option>	
											<option value="2201">2201</option>	
											<option value="2202">2202</option>	
											<option value="2203">2203</option>	
											<option value="2204">2204</option>	
											<option value="2205">2205</option>	
											<option value="2206">2206</option>	
											<option value="2207">2207</option>	
											<option value="2208">2208</option>	
											<option value="2209">2209</option>	
											<option value="2210">2210</option>	
											<option value="2211">2211</option>	
											<option value="2212">2212</option>	
											<option value="2213">2213</option>	
											<option value="2214">2214</option>	
											<option value="2215">2215</option>	
											<option value="2216">2216</option>	
											<option value="2217">2217</option>	
											<option value="2218">2218</option>	
											<option value="2219">2219</option>	
											<option value="2220">2220</option>	
											<option value="2221">2221</option>	
											<option value="2222">2222</option>	
							
				</select> 
			</div>
			<div id="" style="padding: 0px 15px;">
				<input onclick="tcgtldt()" type="submit" name="submit" value="Khảo sát" style="" class="button_kieu_1">  
			</div>
			
		</div>
		<div id="chdoddcd" style="display:block;">
			<div class="setting-two" style="border-top: 0px solid #eee; padding-bottom:0px"  >
				<h5 class="tieude_input_1" style="color: #555a60;font-size: 12px;width: 100%;" >Điểm đi:</h5>
				<input readonly  id="get_coor_value_AA" style="width: 100%;" type="text" class="text" value="10.545097357617,106.77128434181213" >
			</div>
			<div class="setting-two" style="border-top: 0px solid #eee; padding-bottom:0px"  >
				<h5 class="tieude_input_1" style="color: #555a60;font-size: 12px;width: 100%;" >Điểm đến:</h5>
				<input id="get_coor_value_B" style="width: 100%;" type="text" class="text" value="11.545097357617,106.77128434181213" >
			</div>
			<div class="setting-two" style="border-top: 0px solid #eee; padding-bottom:0px"  >
				<h5 class="tieude_input_1" style="color: #555a60;font-size: 12px;" >Hiển thị lộ trình trong nhóm:</h5>
				<div class="switch demo3" id="idtkqktht"  onclick="click_httg()" style='display:block;margin: 0;margin-top: 35px;'>	
					hienthi_lttn:0						<label id="" style="" onclick=""  ><i id="" style="" ></i></label>
									
				</div>
			</div>
			
			<div id="submit_dd" style="padding: 0px 15px;margin-top: 10px;border-top: 1px solid #f7f7f7;padding-top: 45px;float: right;" onclick="">
				<input id="" type="submit" name="submit" value="Tạo lộ trình" style="width:100px;cursor:pointer;padding: 5px;text-align: center;
				background: #4fc1e9;margin: 5px 0px;font-weight: bold;color: #fff;border-radius: 4px; display: block;font-family: sans-serif;border: 0px;">  
			</div>
			
			<div id="kqldtdide" style="padding-left: 15px;" class="tieude_input_1" ></div></br>
			
		</div>
	</div>
   
   <div id="map_fgh" class="content" style="z-index:0;margin-top: 47px;">
		<div id="mainmenu" class="container_1" style="display:none;"></div>	
		<div id="map" style='height:100%;display:block;'></div> 
    </div>
	<div id="dropdown_id" class="dropdown" style="display:none;">
		<button onclick="dropup()" id="canhbao_id" class="dropbtn">Cảnh báo</button>
		<div id="noidungcanhbao_id" class="dropdown-content">
			<div id="traketqua_cb" class="cab_cl" style="display:none;color: #e40303;" ></div>			
			<div class="cab_cl" onclick="ketxe_cb(7)" >Hư hỏng cầu, đường</div>			
			<div class="cab_cl" onclick="ketxe_cb(6)" >Đoạn đường nhiều xe tải/bus</div>
			<div class="cab_cl" onclick="ketxe_cb(5)" >Công trường đang thi công</div>
			<div class="cab_cl" onclick="ketxe_cb(4)" >Ngập lụt</div>
			<div class="cab_cl" onclick="ketxe_cb(3)" >Có tai nạn giao thông</div>
			<div class="cab_cl" onclick="ketxe_cb(2)" >Công an giao thông</div>
			<div class="cab_cl" onclick="ketxe_cb(1)" >Kẹt xe</div>
		</div>
	</div>
	<script type="text/javascript" src="js/bootstrap.js"></script>
</body>
</html>